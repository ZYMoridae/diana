SET CLIENT_MIN_MESSAGES = WARNING;BEGIN;DROP TABLE IF EXISTS public.teacher_subscription;CREATE TABLE public.teacher_subscription(    id         serial,    teacher_id int NOT NULL REFERENCES "user" (id),    user_id    int NOT NULL REFERENCES "user" (id),    started_at timestamp without time zone DEFAULT now(),    expired_at timestamp without time zone DEFAULT now(),    created_at timestamp without time zone DEFAULT now(),    updated_at timestamp without time zone DEFAULT now(),    CONSTRAINT teacher_subscription_pkey PRIMARY KEY (id),    CONSTRAINT teacher_subscription_ukey UNIQUE (teacher_id));DROP TABLE IF EXISTS public.sku;CREATE TABLE public.sku(    id              serial,    product_id      int                   NOT NULL REFERENCES "product" (id),    sku_code        character varying(50) NOT NULL,    price           numeric               NOT NULL,    stock           int                   NOT NULL,    created_user_id int                   not null REFERENCES "user" (id),    created_at      timestamp without time zone DEFAULT now(),    updated_at      timestamp without time zone DEFAULT now(),    CONSTRAINT sku_pkey PRIMARY KEY (id),    CONSTRAINT sku_code_ukey UNIQUE (sku_code));CREATE INDEX ON sku (sku_code);CREATE INDEX ON sku (created_user_id);DROP TABLE IF EXISTS public.sku_attribute_category;CREATE TABLE public.sku_attribute_category(    id         serial,    name       text not null,    created_at timestamp without time zone DEFAULT now(),    updated_at timestamp without time zone DEFAULT now(),    CONSTRAINT sku_attribute_category_pkey PRIMARY KEY (id));DROP TABLE IF EXISTS public.sku_attribute;CREATE TABLE public.sku_attribute(    id                        serial,    sku_code                  character varying(50) NOT NULL REFERENCES "sku" (sku_code),    sku_attribute_category_id int                   NOT NULL REFERENCES "sku_attribute_category" (id),    value                     text,    created_at                timestamp without time zone DEFAULT now(),    updated_at                timestamp without time zone DEFAULT now(),    CONSTRAINT sku_attribute_pkey PRIMARY KEY (id));CREATE INDEX ON sku_attribute (sku_code);DROP TABLE IF EXISTS public.order_operate_history;CREATE TABLE public.order_operate_history(    id              serial,    order_id        int not null references "orders" (id),    operate_user    int not null references "user" (id),    order_status_id int not null references "order_status" (id),    note            text                        default null,    created_at      timestamp without time zone DEFAULT now(),    updated_at      timestamp without time zone DEFAULT now(),    CONSTRAINT order_operate_history_pkey PRIMARY KEY (id));DROP TABLE IF EXISTS public.order_return_status;CREATE TABLE public.order_return_status(    id         serial,--     code character(10) not null,    name       character(50) not null,    created_at timestamp without time zone DEFAULT now(),    updated_at timestamp without time zone DEFAULT now(),    CONSTRAINT order_return_status_pkey PRIMARY KEY (id));DROP TABLE IF EXISTS public.order_return_apply;CREATE TABLE public.order_return_apply(    id              serial,    order_id        int          not null references "orders" (id),    user_id         int          not null references "user" (id),    handler_user_id int          not null references "user" (id),    handle_note     varchar(500)                default null,    reason          text         not null,    status_id       int          not null references "order_return_status" (id),    description     text                        default null,    proof_pics      varchar(1000)               default null,    receive_man     varchar(100) not null,    receive_time    timestamp with time zone    default null,    receive_note    varchar(500)                default null,    created_at      timestamp without time zone DEFAULT now(),    updated_at      timestamp without time zone DEFAULT now(),    CONSTRAINT order_return_apply_pkey PRIMARY KEY (id));DROP TABLE IF EXISTS public.member_level;CREATE TABLE public.member_level(    id                 serial,    name               varchar(100) not null,    growth_point       int                         default 0,    privilege_birthday boolean                     default false,    note               varchar(200)                default null,    created_at         timestamp without time zone DEFAULT now(),    updated_at         timestamp without time zone DEFAULT now(),    CONSTRAINT member_level_pkey PRIMARY KEY (id));DROP TABLE IF EXISTS public.member_price;CREATE TABLE public.member_price(    id              serial,    product_id      int     not null references "product" (id),    member_level_id int     not null references "member_level" (id),    member_price    numeric not null,    created_at      timestamp without time zone DEFAULT now(),    updated_at      timestamp without time zone DEFAULT now(),    CONSTRAINT member_price_pkey PRIMARY KEY (id));COMMIT;