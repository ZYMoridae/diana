2019-03-31 14:46:21.514  INFO 13382 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 13382 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 14:46:21.522  INFO 13382 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 14:46:21.726  INFO 13382 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-03-31 14:46:21.727  INFO 13382 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-03-31 14:46:23.610  INFO 13382 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:46:23.611  INFO 13382 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:46:23.630  INFO 13382 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5ms. Found 0 repository interfaces.
2019-03-31 14:46:23.994  INFO 13382 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:46:23.996  INFO 13382 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:46:24.391  INFO 13382 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 392ms. Found 9 repository interfaces.
2019-03-31 14:46:24.402  INFO 13382 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:46:24.403  INFO 13382 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:46:24.412  INFO 13382 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 14:46:24.413  INFO 13382 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 14:46:24.414  INFO 13382 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 14:46:24.414  INFO 13382 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 14:46:24.415  INFO 13382 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 14:46:24.415  INFO 13382 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 14:46:24.416  INFO 13382 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 14:46:24.417  INFO 13382 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 14:46:24.417  INFO 13382 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 14:46:24.418  INFO 13382 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 0 repository interfaces.
2019-03-31 14:46:25.082  INFO 13382 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$c731cf41] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:46:25.178  INFO 13382 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c61113] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:46:25.244  INFO 13382 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$9973d94d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:46:25.253  INFO 13382 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:46:25.255  INFO 13382 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7792d173' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:46:25.261  INFO 13382 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$be487bff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:46:25.272  INFO 13382 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$e39d9415] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:46:25.277  INFO 13382 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:46:25.279  INFO 13382 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:46:25.897  INFO 13382 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 14:46:25.930  INFO 13382 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 14:46:25.930  INFO 13382 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 14:46:25.943  INFO 13382 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2019-03-31 14:46:26.080  INFO 13382 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 14:46:26.081  INFO 13382 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4354 ms
2019-03-31 14:46:26.547  INFO 13382 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-03-31 14:46:26.924  INFO 13382 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-03-31 14:46:27.043  INFO 13382 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 14:46:27.152  INFO 13382 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-03-31 14:46:27.155  INFO 13382 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-03-31 14:46:27.305  INFO 13382 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-03-31 14:46:27.526  INFO 13382 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 14:46:27.941  INFO 13382 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 14:46:27.942  INFO 13382 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@78b04b77
2019-03-31 14:46:28.721  INFO 13382 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:46:29.736 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 14:46:29.761 DEBUG 13382 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:46:29.762 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.763 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.819 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.822 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.823 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.824 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.834 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.836 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.836 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.836 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.836 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.864 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.865 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.891 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.893 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.893 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.893 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.894 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.904 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.905 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.905 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.906 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.906 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.934 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.936 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.936 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.936 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:29.936 DEBUG 13382 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:46:30.000  WARN 13382 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'enableRedisKeyspaceNotificationsInitializer' defined in class path resource [org/springframework/session/data/redis/config/annotation/web/http/RedisHttpSessionConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.data.redis.RedisConnectionFailureException: Cannot get Jedis connection; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool
2019-03-31 14:46:30.004  INFO 13382 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:46:30.006  INFO 13382 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-03-31 14:46:30.029  INFO 13382 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-03-31 14:46:30.032  INFO 13382 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-03-31 14:46:30.057  INFO 13382 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-03-31 14:46:30.063 ERROR 13382 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'enableRedisKeyspaceNotificationsInitializer' defined in class path resource [org/springframework/session/data/redis/config/annotation/web/http/RedisHttpSessionConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.data.redis.RedisConnectionFailureException: Cannot get Jedis connection; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1745) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:846) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:863) ~[spring-context-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546) ~[spring-context-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]
	at com.jz.nebula.Application.main(Application.java:15) [classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.1.1.RELEASE.jar:2.1.1.RELEASE]
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Cannot get Jedis connection; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:281) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.getConnection(JedisConnectionFactory.java:464) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.session.data.redis.config.annotation.web.http.RedisHttpSessionConfiguration$EnableRedisKeyspaceNotificationsInitializer.afterPropertiesSet(RedisHttpSessionConfiguration.java:302) ~[spring-session-data-redis-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1741) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	... 21 common frames omitted
Caused by: redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool
	at redis.clients.util.Pool.getResource(Pool.java:53) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.JedisPool.getResource(JedisPool.java:226) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.JedisPool.getResource(JedisPool.java:16) ~[jedis-2.9.0.jar:na]
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:271) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	... 25 common frames omitted
Caused by: redis.clients.jedis.exceptions.JedisConnectionException: java.net.ConnectException: Connection refused (Connection refused)
	at redis.clients.jedis.Connection.connect(Connection.java:207) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryClient.connect(BinaryClient.java:93) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedis.connect(BinaryJedis.java:1767) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.JedisFactory.makeObject(JedisFactory.java:106) ~[jedis-2.9.0.jar:na]
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:883) ~[commons-pool2-2.6.0.jar:2.6.0]
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:436) ~[commons-pool2-2.6.0.jar:2.6.0]
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:365) ~[commons-pool2-2.6.0.jar:2.6.0]
	at redis.clients.util.Pool.getResource(Pool.java:49) ~[jedis-2.9.0.jar:na]
	... 28 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:400) ~[na:na]
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:243) ~[na:na]
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:225) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:402) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:591) ~[na:na]
	at redis.clients.jedis.Connection.connect(Connection.java:184) ~[jedis-2.9.0.jar:na]
	... 35 common frames omitted

2019-03-31 14:46:58.549  INFO 14216 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 14216 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 14:46:58.553  INFO 14216 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 14:46:58.612  INFO 14216 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-03-31 14:46:58.613  INFO 14216 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-03-31 14:46:59.584  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:46:59.585  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:46:59.604  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6ms. Found 0 repository interfaces.
2019-03-31 14:46:59.829  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:46:59.830  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:47:00.061  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 228ms. Found 9 repository interfaces.
2019-03-31 14:47:00.071  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:47:00.071  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:47:00.079  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 14:47:00.080  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 14:47:00.081  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 14:47:00.081  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 14:47:00.082  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 14:47:00.083  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 14:47:00.083  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 14:47:00.084  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 14:47:00.085  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 14:47:00.085  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 0 repository interfaces.
2019-03-31 14:47:00.614  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$2b387427] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:47:00.698  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$64ccb5f9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:47:00.740  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$fd7a7e33] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:47:00.747  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:47:00.749  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6fdd3561' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:47:00.754  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$224f20e5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:47:00.764  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$47a438fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:47:00.770  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:47:00.771  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:47:01.283  INFO 14216 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 14:47:01.323  INFO 14216 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 14:47:01.324  INFO 14216 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 14:47:01.338  INFO 14216 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2019-03-31 14:47:01.459  INFO 14216 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 14:47:01.459  INFO 14216 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2846 ms
2019-03-31 14:47:01.881  INFO 14216 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-03-31 14:47:02.114  INFO 14216 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-03-31 14:47:02.189  INFO 14216 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 14:47:02.261  INFO 14216 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-03-31 14:47:02.263  INFO 14216 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-03-31 14:47:02.304  INFO 14216 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-03-31 14:47:02.444  INFO 14216 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 14:47:02.674  INFO 14216 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 14:47:02.676  INFO 14216 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ac9e90
2019-03-31 14:47:03.379  INFO 14216 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:47:04.221 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 14:47:04.230 DEBUG 14216 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:47:04.232 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.232 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.286 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.288 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.290 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.290 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.301 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.302 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.302 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.303 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.303 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.332 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.333 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.356 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.357 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.358 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.358 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.358 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.368 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.370 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.370 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.370 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.371 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.395 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.396 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.397 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.397 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.397 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:04.612 DEBUG 14216 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$fa974e56@285e233e}
2019-03-31 14:47:04.699 DEBUG 14216 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 14:47:04.700 DEBUG 14216 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 14:47:04.702 DEBUG 14216 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:47:04.702 DEBUG 14216 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:47:04.706  INFO 14216 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24c959db, org.springframework.security.web.context.SecurityContextPersistenceFilter@37ef883d, org.springframework.security.web.header.HeaderWriterFilter@5102daf8, org.springframework.security.web.authentication.logout.LogoutFilter@29cd8f6e, com.jz.nebula.jwt.JwtTokenFilter@11dd48fc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@42b35425, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@586ca7c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e208baa, org.springframework.security.web.session.SessionManagementFilter@7c62ca1, org.springframework.security.web.access.ExceptionTranslationFilter@76f2c04e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7d7f8c60]
2019-03-31 14:47:05.179  INFO 14216 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 14:47:06.399  INFO 14216 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 14:47:06.568  INFO 14216 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 14:47:06.666  INFO 14216 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#43b0a7f3:0/SimpleConnection@278be760 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 46850]
2019-03-31 14:47:06.748  INFO 14216 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 14:47:06.823  INFO 14216 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 14:47:06.827  INFO 14216 --- [restartedMain] com.jz.nebula.Application                : Started Application in 8.837 seconds (JVM running for 9.578)
2019-03-31 14:47:12.842  INFO 14216 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-03-31 14:47:12.843  INFO 14216 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-03-31 14:47:12.856  INFO 14216 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2019-03-31 14:47:12.867 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /auth/signin at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 14:47:12.868 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /auth/signin at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 14:47:12.870 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /auth/signin at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 14:47:12.872 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /auth/signin at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 14:47:12.872 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 14:47:12.872 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /auth/signin' doesn't match 'GET /logout'
2019-03-31 14:47:12.872 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 14:47:12.872 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/auth/signin'; against '/logout'
2019-03-31 14:47:12.872 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 14:47:12.872 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /auth/signin' doesn't match 'PUT /logout'
2019-03-31 14:47:12.873 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 14:47:12.873 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /auth/signin' doesn't match 'DELETE /logout'
2019-03-31 14:47:12.873 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 14:47:12.873 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /auth/signin at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 14:47:12.874 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /auth/signin at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 14:47:12.874 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /auth/signin at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 14:47:12.875 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /auth/signin at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 14:47:12.876 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@645bb5e2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2019-03-31 14:47:12.877 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /auth/signin at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 14:47:12.877 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /auth/signin at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 14:47:12.877 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /auth/signin at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 14:47:12.878 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/auth/signin'; against '/auth/signin'
2019-03-31 14:47:12.878 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /auth/signin; Attributes: [permitAll]
2019-03-31 14:47:12.878 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@645bb5e2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2019-03-31 14:47:12.883 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@60499303, returned: 1
2019-03-31 14:47:12.883 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 14:47:12.884 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 14:47:12.884 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /auth/signin reached end of additional filter chain; proceeding with original chain
2019-03-31 14:47:12.942 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.authentication.ProviderManager     : Authentication attempt using com.jz.nebula.CustomAuthenticationProvider
2019-03-31 14:47:13.006  INFO 14216 --- [http-nio-8090-exec-2] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-03-31 14:47:13.860 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2181f50b
2019-03-31 14:47:13.867 DEBUG 14216 --- [http-nio-8090-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 14:47:13.868 DEBUG 14216 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 14:47:45.351 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /cart-items at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 14:47:45.351 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /cart-items at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 14:47:45.351 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /cart-items at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 14:47:45.351 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /cart-items at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 14:47:45.352 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 14:47:45.352 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /cart-items' doesn't match 'GET /logout'
2019-03-31 14:47:45.352 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 14:47:45.352 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/cart-items'; against '/logout'
2019-03-31 14:47:45.352 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 14:47:45.352 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /cart-items' doesn't match 'PUT /logout'
2019-03-31 14:47:45.352 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 14:47:45.352 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /cart-items' doesn't match 'DELETE /logout'
2019-03-31 14:47:45.352 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 14:47:45.352 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /cart-items at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 14:47:45.525 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /cart-items at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 14:47:45.525 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /cart-items at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 14:47:45.525 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /cart-items at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 14:47:45.525 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 14:47:45.526 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /cart-items at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 14:47:45.526 DEBUG 14216 --- [http-nio-8090-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@20b0478d
2019-03-31 14:47:45.526 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /cart-items at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 14:47:45.526 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /cart-items at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 14:47:45.526 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/cart-items'; against '/auth/signin'
2019-03-31 14:47:45.526 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /cart-items; Attributes: [authenticated]
2019-03-31 14:47:45.526 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 14:47:45.527 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@60499303, returned: 1
2019-03-31 14:47:45.527 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 14:47:45.527 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 14:47:45.527 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /cart-items reached end of additional filter chain; proceeding with original chain
2019-03-31 14:47:45.577 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception; target is of class [com.jz.nebula.controller.CartItemController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:47:45.577 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 14:47:45.577 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5366e665, returned: 0
2019-03-31 14:47:45.577 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@27b6543b, returned: 1
2019-03-31 14:47:45.577 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 14:47:45.577 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 14:47:45.824  INFO 14216 --- [http-nio-8090-exec-3] c.jz.nebula.validator.CartItemValidator  : Product with id:[12] is present
2019-03-31 14:47:45.825  INFO 14216 --- [http-nio-8090-exec-3] c.jz.nebula.validator.CartItemValidator  : Quantity for product id:[5] is valid
2019-03-31 14:47:45.994  INFO 14216 --- [http-nio-8090-exec-3] com.jz.nebula.service.CartItemService    : Product with id:[12] has been added
2019-03-31 14:47:46.122 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2181f50b
2019-03-31 14:47:46.124 DEBUG 14216 --- [http-nio-8090-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 14:47:46.124 DEBUG 14216 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 14:48:17.093  INFO 14216 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:48:17.744  INFO 14216 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:48:17.747  INFO 14216 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:48:18.742  INFO 14216 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:48:18.743  INFO 14216 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:48:19.743  INFO 14216 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:48:19.744  INFO 14216 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:48:19.746  INFO 14216 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:48:19.756  INFO 14216 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:48:19.756  INFO 14216 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:48:19.757  INFO 14216 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:48:19.757  INFO 14216 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:48:19.758  INFO 14216 --- [Thread-6] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 14:48:19.778  INFO 14216 --- [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:48:19.781  INFO 14216 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-03-31 14:48:19.813  INFO 14216 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-03-31 14:48:20.036  INFO 14216 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 14216 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 14:48:20.037  INFO 14216 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 14:48:20.339  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:48:20.339  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:48:20.340  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0ms. Found 0 repository interfaces.
2019-03-31 14:48:20.388  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:48:20.389  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:48:20.421  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32ms. Found 9 repository interfaces.
2019-03-31 14:48:20.424  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:48:20.424  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:48:20.430  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 14:48:20.431  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 14:48:20.431  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 14:48:20.431  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 14:48:20.432  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 14:48:20.432  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 14:48:20.432  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 14:48:20.433  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 14:48:20.433  INFO 14216 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 14:48:20.433  INFO 14216 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 0 repository interfaces.
2019-03-31 14:48:20.528  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$2b387427] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:20.548  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$64ccb5f9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:20.553  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$fd7a7e33] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:20.555  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:20.556  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1e0390e4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:20.559  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$224f20e5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:20.563  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$47a438fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:20.564  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:20.564  INFO 14216 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:20.695  INFO 14216 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 14:48:20.696  INFO 14216 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 14:48:20.697  INFO 14216 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 14:48:20.716  INFO 14216 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 14:48:20.717  INFO 14216 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 677 ms
2019-03-31 14:48:20.891  INFO 14216 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2019-03-31 14:48:20.914  INFO 14216 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2019-03-31 14:48:20.928  INFO 14216 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 14:48:20.944  INFO 14216 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 14:48:21.081  INFO 14216 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 14:48:21.082  INFO 14216 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ac9e90
2019-03-31 14:48:21.275  INFO 14216 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:48:21.573 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 14:48:21.574 DEBUG 14216 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:48:21.575 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.575 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.615 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.616 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.616 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.616 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.624 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.625 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.625 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.626 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.626 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.647 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.648 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.667 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.668 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.668 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.669 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.669 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.676 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.677 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.677 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.677 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.678 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.704 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.705 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.705 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.705 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.705 DEBUG 14216 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:21.746 DEBUG 14216 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$fa974e56@3887fe89}
2019-03-31 14:48:21.761 DEBUG 14216 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 14:48:21.761 DEBUG 14216 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 14:48:21.762 DEBUG 14216 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:48:21.763 DEBUG 14216 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:48:21.765  INFO 14216 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6da0ffa, org.springframework.security.web.context.SecurityContextPersistenceFilter@1b5520c4, org.springframework.security.web.header.HeaderWriterFilter@608d6341, org.springframework.security.web.authentication.logout.LogoutFilter@52a8b50a, com.jz.nebula.jwt.JwtTokenFilter@7c9d08bb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@23501dc7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@284ce587, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39b15efa, org.springframework.security.web.session.SessionManagementFilter@7f00a3df, org.springframework.security.web.access.ExceptionTranslationFilter@aa6536a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@346e20e2]
2019-03-31 14:48:21.927  INFO 14216 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 14:48:22.118  INFO 14216 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 14:48:22.166  INFO 14216 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 14:48:22.179 ERROR 14216 --- [redisMessageListenerContainer-1] o.s.d.r.l.RedisMessageListenerContainer  : SubscriptionTask aborted with exception:

org.springframework.dao.InvalidDataAccessApiUsageException: ERR Protocol error: expected '$', got '*'; nested exception is redis.clients.jedis.exceptions.JedisDataException: ERR Protocol error: expected '$', got '*'
	at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:64) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:41) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:142) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisConnection.subscribe(JedisConnection.java:742) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$SubscriptionTask.eventuallyPerformSubscription(RedisMessageListenerContainer.java:796) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$SubscriptionTask.run(RedisMessageListenerContainer.java:752) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]
Caused by: redis.clients.jedis.exceptions.JedisDataException: ERR Protocol error: expected '$', got '*'
	at redis.clients.jedis.Protocol.processError(Protocol.java:127) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Protocol.process(Protocol.java:161) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Protocol.read(Protocol.java:215) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:340) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.getRawObjectMultiBulkReply(Connection.java:285) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedisPubSub.process(BinaryJedisPubSub.java:87) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedisPubSub.proceed(BinaryJedisPubSub.java:82) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedis.subscribe(BinaryJedis.java:3070) ~[jedis-2.9.0.jar:na]
	at org.springframework.data.redis.connection.jedis.JedisConnection.subscribe(JedisConnection.java:739) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	... 3 common frames omitted

2019-03-31 14:48:22.182  INFO 14216 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7dcc833f:0/SimpleConnection@4cad27b5 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 46886]
2019-03-31 14:48:22.239  INFO 14216 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 14:48:22.252  INFO 14216 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 14:48:22.254  INFO 14216 --- [restartedMain] com.jz.nebula.Application                : Started Application in 2.271 seconds (JVM running for 85.005)
2019-03-31 14:48:22.258  INFO 14216 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-03-31 14:48:27.271  INFO 14216 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:48:28.212  INFO 14216 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:48:28.217  INFO 14216 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:48:28.223  INFO 14216 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:48:28.224  INFO 14216 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:48:28.230  INFO 14216 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:48:28.231  INFO 14216 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:48:28.233  INFO 14216 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:48:28.243  INFO 14216 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:48:28.243  INFO 14216 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:48:28.243  INFO 14216 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:48:28.243  INFO 14216 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:48:28.244  INFO 14216 --- [Thread-16] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 14:48:28.253  INFO 14216 --- [Thread-16] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:48:28.254  INFO 14216 --- [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2019-03-31 14:48:28.296  INFO 14216 --- [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2019-03-31 14:48:36.210  INFO 14533 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 14533 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 14:48:36.214  INFO 14533 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 14:48:36.276  INFO 14533 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-03-31 14:48:36.277  INFO 14533 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-03-31 14:48:37.275  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:48:37.276  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:48:37.303  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 0 repository interfaces.
2019-03-31 14:48:37.540  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:48:37.541  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:48:37.843  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 299ms. Found 9 repository interfaces.
2019-03-31 14:48:37.863  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:48:37.864  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:48:37.886  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 14:48:37.888  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 14:48:37.890  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 14:48:37.898  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 14:48:37.898  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 14:48:37.899  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 14:48:37.900  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 14:48:37.900  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 14:48:37.901  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 14:48:37.901  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36ms. Found 0 repository interfaces.
2019-03-31 14:48:38.701  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$4a6b313d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:38.792  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$83ff730f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:38.842  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$1cad3b49] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:38.850  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:38.852  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4d101381' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:38.858  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4181ddfb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:38.870  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$66d6f611] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:38.875  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:38.877  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:48:39.451  INFO 14533 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 14:48:39.489  INFO 14533 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 14:48:39.490  INFO 14533 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 14:48:39.503  INFO 14533 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2019-03-31 14:48:39.660  INFO 14533 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 14:48:39.661  INFO 14533 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3384 ms
2019-03-31 14:48:40.066  INFO 14533 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-03-31 14:48:40.299  INFO 14533 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-03-31 14:48:40.378  INFO 14533 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 14:48:40.461  INFO 14533 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-03-31 14:48:40.462  INFO 14533 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-03-31 14:48:40.500  INFO 14533 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-03-31 14:48:40.641  INFO 14533 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 14:48:40.863  INFO 14533 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 14:48:40.864  INFO 14533 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@140046e2
2019-03-31 14:48:41.655  INFO 14533 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:48:42.429 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 14:48:42.438 DEBUG 14533 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:48:42.439 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.440 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.493 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.495 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.497 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.497 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.508 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.509 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.509 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.509 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.509 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.543 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.544 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.570 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.572 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.572 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.572 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.573 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.583 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.584 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.584 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.584 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.585 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.615 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.616 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.617 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.617 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.618 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:42.750 DEBUG 14533 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$19ca0b6c@1f51414f}
2019-03-31 14:48:42.820 DEBUG 14533 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 14:48:42.821 DEBUG 14533 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 14:48:42.822 DEBUG 14533 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:48:42.823 DEBUG 14533 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:48:42.826  INFO 14533 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36aed3ec, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c41c6de, org.springframework.security.web.header.HeaderWriterFilter@6d43fd9c, org.springframework.security.web.authentication.logout.LogoutFilter@3155e2d2, com.jz.nebula.jwt.JwtTokenFilter@74be7cc4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2965c804, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@411115e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34b695f5, org.springframework.security.web.session.SessionManagementFilter@68c9636c, org.springframework.security.web.access.ExceptionTranslationFilter@3f3116e6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@16c13fd]
2019-03-31 14:48:43.260  INFO 14533 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 14:48:44.010  INFO 14533 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 14:48:44.152  INFO 14533 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 14:48:44.215  INFO 14533 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#739d1add:0/SimpleConnection@4a9169f6 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 46914]
2019-03-31 14:48:44.301  INFO 14533 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 14:48:44.335  INFO 14533 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 14:48:44.340  INFO 14533 --- [restartedMain] com.jz.nebula.Application                : Started Application in 8.746 seconds (JVM running for 9.551)
2019-03-31 14:48:56.890  INFO 14533 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-03-31 14:48:56.891  INFO 14533 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-03-31 14:48:56.907  INFO 14533 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2019-03-31 14:48:56.920 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 14:48:56.921 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 14:48:56.923 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 14:48:56.924 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 14:48:56.924 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 14:48:56.925 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'GET /logout'
2019-03-31 14:48:56.925 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 14:48:56.925 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/logout'
2019-03-31 14:48:56.925 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 14:48:56.925 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'PUT /logout'
2019-03-31 14:48:56.925 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 14:48:56.925 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'DELETE /logout'
2019-03-31 14:48:56.925 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 14:48:56.925 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 14:48:57.050  INFO 14533 --- [http-nio-8090-exec-2] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-03-31 14:48:57.370 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 14:48:57.370 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 14:48:57.371 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 14:48:57.371 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 14:48:57.371 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 14:48:57.372 DEBUG 14533 --- [http-nio-8090-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6e3fd4e2
2019-03-31 14:48:57.372 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 14:48:57.372 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 14:48:57.372 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/auth/signin'
2019-03-31 14:48:57.373 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /payments/finalise; Attributes: [authenticated]
2019-03-31 14:48:57.373 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 14:48:57.376 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@8a2f3c3, returned: 1
2019-03-31 14:48:57.377 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 14:48:57.377 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 14:48:57.377 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise reached end of additional filter chain; proceeding with original chain
2019-03-31 14:48:57.390 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public java.lang.Object com.jz.nebula.controller.PaymentController.create() throws java.lang.Exception; target is of class [com.jz.nebula.controller.PaymentController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:48:57.390 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 14:48:57.390 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@7427e8b9, returned: 0
2019-03-31 14:48:57.390 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@4f61b2fd, returned: 1
2019-03-31 14:48:57.390 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 14:48:57.391 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 14:48:57.592  INFO 14533 --- [http-nio-8090-exec-2] com.jz.nebula.payment.StripeGateway      : Sending charging request to Stripe...
2019-03-31 14:48:58.860 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@25abfce
2019-03-31 14:48:58.860 DEBUG 14533 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 14:48:58.866 ERROR 14533 --- [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.stripe.exception.InvalidRequestException: Invalid integer: 11.100000000000001; code: parameter_invalid_integer] with root cause

com.stripe.exception.InvalidRequestException: Invalid integer: 11.100000000000001
	at com.stripe.net.LiveStripeResponseGetter.handleApiError(LiveStripeResponseGetter.java:705) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.staticRequest(LiveStripeResponseGetter.java:531) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.request(LiveStripeResponseGetter.java:81) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.ApiResource.request(ApiResource.java:195) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:372) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:364) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.jz.nebula.payment.StripeGateway.doStripePayment(StripeGateway.java:58) ~[classes/:na]
	at com.jz.nebula.payment.StripeGateway.doPayment(StripeGateway.java:89) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.doPayment(PaymentService.java:101) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.finaliseOrder(PaymentService.java:86) ~[classes/:na]
	at com.jz.nebula.service.PaymentService$$FastClassBySpringCGLIB$$1969d086.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.service.PaymentService$$EnhancerBySpringCGLIB$$8b772b53.finaliseOrder(<generated>) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController.create(PaymentController.java:31) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController$$FastClassBySpringCGLIB$$ca4ac0e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.controller.PaymentController$$EnhancerBySpringCGLIB$$81ce7841.create(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at com.jz.nebula.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:30) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2019-03-31 14:48:58.871 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 14:48:58.871 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 14:48:58.871 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 14:48:58.871 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 14:48:58.871 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 14:48:58.871 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2019-03-31 14:48:58.871 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 14:48:58.872 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2019-03-31 14:48:58.872 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 14:48:58.872 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2019-03-31 14:48:58.872 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 14:48:58.872 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2019-03-31 14:48:58.872 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 14:48:58.872 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 14:48:58.969 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 14:48:58.969 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 14:48:58.969 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 14:48:58.970 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 14:48:58.970 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 14:48:58.970 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 14:48:58.970 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 14:48:58.970 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2019-03-31 14:48:59.046 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 14:48:59.046 DEBUG 14533 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 14:51:33.125  INFO 14533 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:51:33.309  INFO 14533 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:51:33.313  INFO 14533 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:51:34.306  INFO 14533 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:51:34.308  INFO 14533 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:51:35.307  INFO 14533 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:51:35.309  INFO 14533 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:51:35.313  INFO 14533 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:51:35.334  INFO 14533 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:51:35.334  INFO 14533 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:51:35.334  INFO 14533 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:51:35.334  INFO 14533 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:51:35.336  INFO 14533 --- [Thread-6] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 14:51:35.369  INFO 14533 --- [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:51:35.372  INFO 14533 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-03-31 14:51:35.395  INFO 14533 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-03-31 14:51:35.596  INFO 14533 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 14533 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 14:51:35.597  INFO 14533 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 14:51:35.929  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:51:35.929  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:51:35.930  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1ms. Found 0 repository interfaces.
2019-03-31 14:51:35.980  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:51:35.980  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:51:36.016  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36ms. Found 9 repository interfaces.
2019-03-31 14:51:36.020  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:51:36.020  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:51:36.026  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 14:51:36.027  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 14:51:36.027  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 14:51:36.027  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 14:51:36.028  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 14:51:36.028  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 14:51:36.028  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 14:51:36.029  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 14:51:36.029  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 14:51:36.030  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 0 repository interfaces.
2019-03-31 14:51:36.153  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$4a6b313d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:51:36.171  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$83ff730f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:51:36.175  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$1cad3b49] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:51:36.177  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:51:36.177  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1aa23c4f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:51:36.180  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4181ddfb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:51:36.184  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$66d6f611] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:51:36.184  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:51:36.185  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:51:36.314  INFO 14533 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 14:51:36.316  INFO 14533 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 14:51:36.316  INFO 14533 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 14:51:36.334  INFO 14533 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 14:51:36.334  INFO 14533 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 733 ms
2019-03-31 14:51:36.511  INFO 14533 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2019-03-31 14:51:36.547  INFO 14533 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2019-03-31 14:51:36.562  INFO 14533 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 14:51:36.583  INFO 14533 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 14:51:36.735  INFO 14533 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 14:51:36.735  INFO 14533 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@140046e2
2019-03-31 14:51:36.997  INFO 14533 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:51:37.297 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 14:51:37.298 DEBUG 14533 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:51:37.299 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.299 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.362 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.363 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.363 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.364 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.372 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.373 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.373 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.373 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.373 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.396 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.397 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.418 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.419 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.419 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.419 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.420 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.428 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.429 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.430 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.430 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.430 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.462 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.463 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.463 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.464 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.464 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:37.507 DEBUG 14533 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$19ca0b6c@434e3a53}
2019-03-31 14:51:37.521 DEBUG 14533 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 14:51:37.521 DEBUG 14533 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 14:51:37.522 DEBUG 14533 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:51:37.522 DEBUG 14533 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:51:37.524  INFO 14533 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10f5cb49, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a413f73, org.springframework.security.web.header.HeaderWriterFilter@4150978f, org.springframework.security.web.authentication.logout.LogoutFilter@2bed54c5, com.jz.nebula.jwt.JwtTokenFilter@4ada8126, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ea5fd2b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b8cf99f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3412c498, org.springframework.security.web.session.SessionManagementFilter@362cc3a8, org.springframework.security.web.access.ExceptionTranslationFilter@248a034b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ea2128f]
2019-03-31 14:51:37.704  INFO 14533 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 14:51:37.899  INFO 14533 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 14:51:37.941  INFO 14533 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 14:51:37.945  INFO 14533 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#164914e8:0/SimpleConnection@1b89e643 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 46956]
2019-03-31 14:51:37.975  INFO 14533 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 14:51:37.994  INFO 14533 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 14:51:37.996  INFO 14533 --- [restartedMain] com.jz.nebula.Application                : Started Application in 2.455 seconds (JVM running for 183.207)
2019-03-31 14:51:38.002  INFO 14533 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-03-31 14:51:48.157  INFO 14533 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-03-31 14:51:48.158  INFO 14533 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-03-31 14:51:48.170  INFO 14533 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2019-03-31 14:51:48.171 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /cart-items at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 14:51:48.171 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /cart-items at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 14:51:48.171 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /cart-items at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 14:51:48.171 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /cart-items at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 14:51:48.171 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 14:51:48.171 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /cart-items' doesn't match 'GET /logout'
2019-03-31 14:51:48.171 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 14:51:48.171 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/cart-items'; against '/logout'
2019-03-31 14:51:48.172 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 14:51:48.172 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /cart-items' doesn't match 'PUT /logout'
2019-03-31 14:51:48.172 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 14:51:48.172 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /cart-items' doesn't match 'DELETE /logout'
2019-03-31 14:51:48.172 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 14:51:48.172 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /cart-items at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 14:51:48.209  INFO 14533 --- [http-nio-8090-exec-2] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-03-31 14:51:48.312 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /cart-items at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 14:51:48.312 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /cart-items at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 14:51:48.312 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /cart-items at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 14:51:48.312 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 14:51:48.312 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /cart-items at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 14:51:48.312 DEBUG 14533 --- [http-nio-8090-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4244ff7a
2019-03-31 14:51:48.313 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /cart-items at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 14:51:48.313 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /cart-items at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 14:51:48.313 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/cart-items'; against '/auth/signin'
2019-03-31 14:51:48.313 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /cart-items; Attributes: [authenticated]
2019-03-31 14:51:48.313 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 14:51:48.313 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@157d0cb2, returned: 1
2019-03-31 14:51:48.313 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 14:51:48.313 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 14:51:48.314 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /cart-items reached end of additional filter chain; proceeding with original chain
2019-03-31 14:51:48.354 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception; target is of class [com.jz.nebula.controller.CartItemController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:48.354 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 14:51:48.354 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@4511d7ba, returned: 0
2019-03-31 14:51:48.354 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@4eef3575, returned: 1
2019-03-31 14:51:48.354 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 14:51:48.355 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 14:51:48.385  INFO 14533 --- [http-nio-8090-exec-2] c.jz.nebula.validator.CartItemValidator  : Product with id:[12] is present
2019-03-31 14:51:48.386  INFO 14533 --- [http-nio-8090-exec-2] c.jz.nebula.validator.CartItemValidator  : Quantity for product id:[1] is valid
2019-03-31 14:51:48.421  INFO 14533 --- [http-nio-8090-exec-2] com.jz.nebula.service.CartItemService    : Product with id:[12] has been added
2019-03-31 14:51:48.475 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7ed546bd
2019-03-31 14:51:48.478 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 14:51:48.478 DEBUG 14533 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 14:51:51.635 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /payments/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 14:51:51.635 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /payments/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 14:51:51.635 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /payments/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 14:51:51.635 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /payments/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 14:51:51.635 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 14:51:51.635 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'GET /logout'
2019-03-31 14:51:51.635 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 14:51:51.635 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/logout'
2019-03-31 14:51:51.635 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 14:51:51.636 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'PUT /logout'
2019-03-31 14:51:51.636 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 14:51:51.636 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'DELETE /logout'
2019-03-31 14:51:51.636 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 14:51:51.636 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /payments/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 14:51:51.736 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /payments/finalise at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 14:51:51.736 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /payments/finalise at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 14:51:51.736 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /payments/finalise at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 14:51:51.737 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 14:51:51.737 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /payments/finalise at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 14:51:51.737 DEBUG 14533 --- [http-nio-8090-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4244ff7a
2019-03-31 14:51:51.737 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /payments/finalise at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 14:51:51.737 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /payments/finalise at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 14:51:51.737 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/auth/signin'
2019-03-31 14:51:51.737 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /payments/finalise; Attributes: [authenticated]
2019-03-31 14:51:51.737 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 14:51:51.737 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@157d0cb2, returned: 1
2019-03-31 14:51:51.737 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 14:51:51.738 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 14:51:51.738 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /payments/finalise reached end of additional filter chain; proceeding with original chain
2019-03-31 14:51:51.739 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public java.lang.Object com.jz.nebula.controller.PaymentController.create() throws java.lang.Exception; target is of class [com.jz.nebula.controller.PaymentController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:51:51.739 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 14:51:51.739 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@4511d7ba, returned: 0
2019-03-31 14:51:51.739 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@4eef3575, returned: 1
2019-03-31 14:51:51.739 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 14:51:51.739 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 14:51:51.782  INFO 14533 --- [http-nio-8090-exec-3] com.jz.nebula.payment.StripeGateway      : Sending charging request to Stripe...
2019-03-31 14:51:52.634 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7ed546bd
2019-03-31 14:51:52.634 DEBUG 14533 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 14:51:52.638 ERROR 14533 --- [http-nio-8090-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.stripe.exception.InvalidRequestException: Invalid integer: 1110.0; code: parameter_invalid_integer] with root cause

com.stripe.exception.InvalidRequestException: Invalid integer: 1110.0
	at com.stripe.net.LiveStripeResponseGetter.handleApiError(LiveStripeResponseGetter.java:705) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.staticRequest(LiveStripeResponseGetter.java:531) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.request(LiveStripeResponseGetter.java:81) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.ApiResource.request(ApiResource.java:195) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:372) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:364) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.jz.nebula.payment.StripeGateway.doStripePayment(StripeGateway.java:58) ~[classes/:na]
	at com.jz.nebula.payment.StripeGateway.doPayment(StripeGateway.java:89) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.doPayment(PaymentService.java:101) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.finaliseOrder(PaymentService.java:86) ~[classes/:na]
	at com.jz.nebula.service.PaymentService$$FastClassBySpringCGLIB$$1969d086.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.service.PaymentService$$EnhancerBySpringCGLIB$$8b772b53.finaliseOrder(<generated>) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController.create(PaymentController.java:31) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController$$FastClassBySpringCGLIB$$ca4ac0e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.controller.PaymentController$$EnhancerBySpringCGLIB$$81ce7841.create(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at com.jz.nebula.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:30) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 14:51:52.641 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 14:51:52.732 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 14:51:52.732 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 14:51:52.732 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 14:51:52.732 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 14:51:52.732 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 14:51:52.732 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 14:51:52.732 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 14:51:52.732 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2019-03-31 14:51:52.743 DEBUG 14533 --- [http-nio-8090-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 14:51:52.743 DEBUG 14533 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 14:53:48.825  INFO 14533 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:53:48.974  INFO 14533 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:53:48.976  INFO 14533 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:53:48.980  INFO 14533 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:53:48.981  INFO 14533 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:53:49.981  INFO 14533 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:53:49.983  INFO 14533 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:53:49.985  INFO 14533 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:53:49.992  INFO 14533 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:53:49.993  INFO 14533 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:53:49.997  INFO 14533 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:53:49.997  INFO 14533 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:53:49.998  INFO 14533 --- [Thread-10] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 14:53:50.004  INFO 14533 --- [Thread-10] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:53:50.005  INFO 14533 --- [Thread-10] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2019-03-31 14:53:50.033  INFO 14533 --- [Thread-10] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2019-03-31 14:53:50.233  INFO 14533 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 14533 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 14:53:50.233  INFO 14533 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 14:53:50.513  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:53:50.513  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:53:50.514  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0ms. Found 0 repository interfaces.
2019-03-31 14:53:50.558  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:53:50.558  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:53:50.590  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32ms. Found 9 repository interfaces.
2019-03-31 14:53:50.593  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:53:50.594  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:53:50.599  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 14:53:50.599  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 14:53:50.599  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 14:53:50.599  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 14:53:50.600  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 14:53:50.600  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 14:53:50.600  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 14:53:50.600  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 14:53:50.600  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 14:53:50.601  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6ms. Found 0 repository interfaces.
2019-03-31 14:53:50.677  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$4a6b313d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:53:50.691  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$83ff730f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:53:50.694  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$1cad3b49] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:53:50.696  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:53:50.696  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6fed5708' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:53:50.699  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4181ddfb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:53:50.702  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$66d6f611] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:53:50.702  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:53:50.702  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:53:50.816  INFO 14533 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 14:53:50.818  INFO 14533 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 14:53:50.818  INFO 14533 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 14:53:50.834  INFO 14533 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 14:53:50.834  INFO 14533 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 598 ms
2019-03-31 14:53:50.969  INFO 14533 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2019-03-31 14:53:50.988  INFO 14533 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2019-03-31 14:53:51.000  INFO 14533 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 14:53:51.014  INFO 14533 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 14:53:51.147  INFO 14533 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 14:53:51.147  INFO 14533 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@140046e2
2019-03-31 14:53:51.347  INFO 14533 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:53:51.618 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 14:53:51.619 DEBUG 14533 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:53:51.619 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.620 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.671 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.672 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.673 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.673 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.681 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.682 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.682 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.682 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.682 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.704 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.704 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.721 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.722 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.722 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.722 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.723 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.729 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.730 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.730 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.730 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.730 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.752 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.753 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.753 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.754 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.754 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:53:51.792 DEBUG 14533 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$19ca0b6c@6114e880}
2019-03-31 14:53:51.806 DEBUG 14533 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 14:53:51.806 DEBUG 14533 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 14:53:51.807 DEBUG 14533 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:53:51.807 DEBUG 14533 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:53:51.809  INFO 14533 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@741b427b, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e07434f, org.springframework.security.web.header.HeaderWriterFilter@453c1928, org.springframework.security.web.authentication.logout.LogoutFilter@1c9c616c, com.jz.nebula.jwt.JwtTokenFilter@6b2c03f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d78b0f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8a81929, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d8a7c2d, org.springframework.security.web.session.SessionManagementFilter@54a81109, org.springframework.security.web.access.ExceptionTranslationFilter@3fad8038, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@75806a19]
2019-03-31 14:53:52.001  INFO 14533 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 14:53:52.183  INFO 14533 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 14:53:52.222  INFO 14533 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 14:53:52.230  INFO 14533 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4fc49eb5:0/SimpleConnection@7822fc58 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 47026]
2019-03-31 14:53:52.269  INFO 14533 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 14:53:52.325  INFO 14533 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 14:53:52.326  INFO 14533 --- [restartedMain] com.jz.nebula.Application                : Started Application in 2.137 seconds (JVM running for 317.537)
2019-03-31 14:53:52.329  INFO 14533 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-03-31 14:54:01.017  INFO 14533 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-03-31 14:54:01.017  INFO 14533 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-03-31 14:54:01.032  INFO 14533 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2019-03-31 14:54:01.036 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 14:54:01.036 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 14:54:01.036 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 14:54:01.036 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 14:54:01.036 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 14:54:01.036 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'GET /logout'
2019-03-31 14:54:01.036 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 14:54:01.036 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/logout'
2019-03-31 14:54:01.037 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 14:54:01.037 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'PUT /logout'
2019-03-31 14:54:01.037 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 14:54:01.037 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'DELETE /logout'
2019-03-31 14:54:01.037 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 14:54:01.050 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 14:54:01.065  INFO 14533 --- [http-nio-8090-exec-2] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-03-31 14:54:01.164 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 14:54:01.164 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 14:54:01.164 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 14:54:01.164 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 14:54:01.164 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 14:54:01.164 DEBUG 14533 --- [http-nio-8090-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@41c76580
2019-03-31 14:54:01.165 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 14:54:01.165 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 14:54:01.165 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/auth/signin'
2019-03-31 14:54:01.165 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /payments/finalise; Attributes: [authenticated]
2019-03-31 14:54:01.165 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 14:54:01.165 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5e92fce2, returned: 1
2019-03-31 14:54:01.165 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 14:54:01.165 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 14:54:01.165 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise reached end of additional filter chain; proceeding with original chain
2019-03-31 14:54:01.166 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public java.lang.Object com.jz.nebula.controller.PaymentController.create() throws java.lang.Exception; target is of class [com.jz.nebula.controller.PaymentController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:54:01.166 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 14:54:01.166 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@66e53a9d, returned: 0
2019-03-31 14:54:01.166 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@274a548d, returned: 1
2019-03-31 14:54:01.166 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 14:54:01.166 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 14:54:01.208  INFO 14533 --- [http-nio-8090-exec-2] com.jz.nebula.payment.StripeGateway      : Sending charging request to Stripe...
2019-03-31 14:54:02.055 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2ae20d5f
2019-03-31 14:54:02.055 DEBUG 14533 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 14:54:02.058 ERROR 14533 --- [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.stripe.exception.InvalidRequestException: Invalid integer: 1110.0; code: parameter_invalid_integer] with root cause

com.stripe.exception.InvalidRequestException: Invalid integer: 1110.0
	at com.stripe.net.LiveStripeResponseGetter.handleApiError(LiveStripeResponseGetter.java:705) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.staticRequest(LiveStripeResponseGetter.java:531) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.request(LiveStripeResponseGetter.java:81) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.ApiResource.request(ApiResource.java:195) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:372) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:364) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.jz.nebula.payment.StripeGateway.doStripePayment(StripeGateway.java:58) ~[classes/:na]
	at com.jz.nebula.payment.StripeGateway.doPayment(StripeGateway.java:89) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.doPayment(PaymentService.java:101) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.finaliseOrder(PaymentService.java:86) ~[classes/:na]
	at com.jz.nebula.service.PaymentService$$FastClassBySpringCGLIB$$1969d086.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.service.PaymentService$$EnhancerBySpringCGLIB$$8b772b53.finaliseOrder(<generated>) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController.create(PaymentController.java:31) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController$$FastClassBySpringCGLIB$$ca4ac0e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.controller.PaymentController$$EnhancerBySpringCGLIB$$81ce7841.create(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at com.jz.nebula.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:30) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2019-03-31 14:54:02.060 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 14:54:02.060 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 14:54:02.060 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 14:54:02.060 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 14:54:02.060 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 14:54:02.060 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2019-03-31 14:54:02.060 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 14:54:02.061 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2019-03-31 14:54:02.061 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 14:54:02.061 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2019-03-31 14:54:02.061 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 14:54:02.061 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2019-03-31 14:54:02.061 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 14:54:02.061 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 14:54:02.154 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 14:54:02.154 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 14:54:02.154 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 14:54:02.154 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 14:54:02.154 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 14:54:02.154 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 14:54:02.154 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 14:54:02.155 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2019-03-31 14:54:02.162 DEBUG 14533 --- [http-nio-8090-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 14:54:02.162 DEBUG 14533 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 14:57:03.339  INFO 14533 --- [Thread-17] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:57:04.266  INFO 14533 --- [Thread-17] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:57:04.268  INFO 14533 --- [Thread-17] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:57:04.282  INFO 14533 --- [Thread-17] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:57:04.285  INFO 14533 --- [Thread-17] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:57:05.282  INFO 14533 --- [Thread-17] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:57:05.284  INFO 14533 --- [Thread-17] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:57:05.286  INFO 14533 --- [Thread-17] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:57:05.297  INFO 14533 --- [Thread-17] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:57:05.298  INFO 14533 --- [Thread-17] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:57:05.298  INFO 14533 --- [Thread-17] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:57:05.298  INFO 14533 --- [Thread-17] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:57:05.299  INFO 14533 --- [Thread-17] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 14:57:05.306  INFO 14533 --- [Thread-17] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:57:05.306  INFO 14533 --- [Thread-17] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2019-03-31 14:57:05.321  INFO 14533 --- [Thread-17] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2019-03-31 14:57:05.474  INFO 14533 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 14533 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 14:57:05.474  INFO 14533 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 14:57:05.702  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:57:05.702  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:57:05.702  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0ms. Found 0 repository interfaces.
2019-03-31 14:57:05.735  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:57:05.735  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:57:05.763  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27ms. Found 9 repository interfaces.
2019-03-31 14:57:05.766  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:57:05.766  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:57:05.770  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 14:57:05.770  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 14:57:05.770  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 14:57:05.771  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 14:57:05.771  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 14:57:05.771  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 14:57:05.771  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 14:57:05.771  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 14:57:05.771  INFO 14533 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 14:57:05.771  INFO 14533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5ms. Found 0 repository interfaces.
2019-03-31 14:57:05.830  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$4a6b313d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:57:05.840  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$83ff730f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:57:05.846  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$1cad3b49] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:57:05.847  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:57:05.847  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@69d11c5c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:57:05.849  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4181ddfb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:57:05.851  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$66d6f611] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:57:05.851  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:57:05.851  INFO 14533 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:57:05.948  INFO 14533 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 14:57:05.950  INFO 14533 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 14:57:05.951  INFO 14533 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 14:57:05.970  INFO 14533 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 14:57:05.970  INFO 14533 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 493 ms
2019-03-31 14:57:06.098  INFO 14533 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2019-03-31 14:57:06.118  INFO 14533 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2019-03-31 14:57:06.127  INFO 14533 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 14:57:06.140  INFO 14533 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 14:57:06.254  INFO 14533 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 14:57:06.255  INFO 14533 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@140046e2
2019-03-31 14:57:06.406  INFO 14533 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:57:06.645 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 14:57:06.645 DEBUG 14533 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:57:06.646 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.646 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.685 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.686 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.687 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.687 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.693 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.694 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.694 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.694 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.694 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.713 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.713 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.730 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.731 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.731 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.731 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.731 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.738 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.739 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.739 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.739 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.739 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.759 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.760 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.760 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.760 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.760 DEBUG 14533 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:57:06.796 DEBUG 14533 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$19ca0b6c@701ecc7}
2019-03-31 14:57:06.809 DEBUG 14533 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 14:57:06.809 DEBUG 14533 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 14:57:06.810 DEBUG 14533 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:57:06.810 DEBUG 14533 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:57:06.812  INFO 14533 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7412a0e3, org.springframework.security.web.context.SecurityContextPersistenceFilter@7af55d82, org.springframework.security.web.header.HeaderWriterFilter@6dbff4bc, org.springframework.security.web.authentication.logout.LogoutFilter@1a719ffa, com.jz.nebula.jwt.JwtTokenFilter@50588d4d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4aa6e4a1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58aef35d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4703f43b, org.springframework.security.web.session.SessionManagementFilter@1f4baad8, org.springframework.security.web.access.ExceptionTranslationFilter@604a1528, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2b2afc2]
2019-03-31 14:57:06.981  INFO 14533 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 14:57:07.164  INFO 14533 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 14:57:07.198  INFO 14533 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 14:57:07.200 ERROR 14533 --- [redisMessageListenerContainer-1] o.s.d.r.l.RedisMessageListenerContainer  : SubscriptionTask aborted with exception:

org.springframework.dao.InvalidDataAccessApiUsageException: ERR Protocol error: expected '$', got ' '; nested exception is redis.clients.jedis.exceptions.JedisDataException: ERR Protocol error: expected '$', got ' '
	at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:64) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:41) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:142) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisConnection.subscribe(JedisConnection.java:742) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$SubscriptionTask.eventuallyPerformSubscription(RedisMessageListenerContainer.java:796) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$SubscriptionTask.run(RedisMessageListenerContainer.java:752) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]
Caused by: redis.clients.jedis.exceptions.JedisDataException: ERR Protocol error: expected '$', got ' '
	at redis.clients.jedis.Protocol.processError(Protocol.java:127) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Protocol.process(Protocol.java:161) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Protocol.read(Protocol.java:215) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:340) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.getRawObjectMultiBulkReply(Connection.java:285) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedisPubSub.process(BinaryJedisPubSub.java:87) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedisPubSub.proceed(BinaryJedisPubSub.java:82) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedis.subscribe(BinaryJedis.java:3070) ~[jedis-2.9.0.jar:na]
	at org.springframework.data.redis.connection.jedis.JedisConnection.subscribe(JedisConnection.java:739) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	... 3 common frames omitted

2019-03-31 14:57:07.208  INFO 14533 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#fd8bb6:0/SimpleConnection@6590e78f [delegate=amqp://guest@127.0.0.1:5672/, localPort= 47106]
2019-03-31 14:57:07.238  INFO 14533 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 14:57:07.250  INFO 14533 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 14:57:07.251  INFO 14533 --- [restartedMain] com.jz.nebula.Application                : Started Application in 1.811 seconds (JVM running for 512.462)
2019-03-31 14:57:07.254  INFO 14533 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-03-31 14:57:07.508  INFO 14533 --- [Thread-30] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:57:08.218  INFO 14533 --- [Thread-30] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:57:08.220  INFO 14533 --- [Thread-30] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:57:08.226  INFO 14533 --- [Thread-30] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:57:08.228  INFO 14533 --- [Thread-30] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:57:08.231  INFO 14533 --- [Thread-30] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:57:08.233  INFO 14533 --- [Thread-30] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 14:57:08.234  INFO 14533 --- [Thread-30] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 14:57:08.249  INFO 14533 --- [Thread-30] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:57:08.250  INFO 14533 --- [Thread-30] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:57:08.250  INFO 14533 --- [Thread-30] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:57:08.250  INFO 14533 --- [Thread-30] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 14:57:08.250  INFO 14533 --- [Thread-30] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 14:57:08.254  INFO 14533 --- [Thread-30] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:57:08.256  INFO 14533 --- [Thread-30] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2019-03-31 14:57:08.276  INFO 14533 --- [Thread-30] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2019-03-31 14:59:05.413  INFO 15955 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 15955 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 14:59:05.418  INFO 15955 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 14:59:05.476  INFO 15955 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-03-31 14:59:05.476  INFO 15955 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-03-31 14:59:06.440  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:59:06.441  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:59:06.462  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 0 repository interfaces.
2019-03-31 14:59:06.692  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:59:06.693  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:59:06.911  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 215ms. Found 9 repository interfaces.
2019-03-31 14:59:06.922  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 14:59:06.922  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 14:59:06.931  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 14:59:06.932  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 14:59:06.933  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 14:59:06.934  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 14:59:06.934  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 14:59:06.935  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 14:59:06.936  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 14:59:06.937  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 14:59:06.938  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 14:59:06.938  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 0 repository interfaces.
2019-03-31 14:59:07.537  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$770e7a83] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:59:07.622  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b0a2bc55] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:59:07.676  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$4950848f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:59:07.686  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:59:07.688  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@58761988' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:59:07.693  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$6e252741] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:59:07.704  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$937a3f57] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:59:07.709  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:59:07.711  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 14:59:08.227  INFO 15955 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 14:59:08.264  INFO 15955 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 14:59:08.265  INFO 15955 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 14:59:08.279  INFO 15955 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2019-03-31 14:59:08.396  INFO 15955 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 14:59:08.396  INFO 15955 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2920 ms
2019-03-31 14:59:08.809  INFO 15955 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-03-31 14:59:09.049  INFO 15955 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-03-31 14:59:09.125  INFO 15955 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 14:59:09.201  INFO 15955 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-03-31 14:59:09.203  INFO 15955 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-03-31 14:59:09.242  INFO 15955 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-03-31 14:59:09.371  INFO 15955 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 14:59:09.588  INFO 15955 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 14:59:09.590  INFO 15955 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2a35cf50
2019-03-31 14:59:10.313  INFO 15955 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 14:59:11.116 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 14:59:11.125 DEBUG 15955 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:59:11.127 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.127 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.182 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.184 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.186 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.187 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.198 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.199 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.200 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.200 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.200 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.232 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.233 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.254 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.256 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.256 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.256 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.256 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.265 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.266 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.266 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.267 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.267 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.291 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.292 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.292 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.293 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.293 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:11.419 DEBUG 15955 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$466d54b2@70d3d69f}
2019-03-31 14:59:11.485 DEBUG 15955 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 14:59:11.486 DEBUG 15955 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 14:59:11.488 DEBUG 15955 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:59:11.488 DEBUG 15955 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 14:59:11.491  INFO 15955 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@50493ab8, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a71711e, org.springframework.security.web.header.HeaderWriterFilter@481e7bfd, org.springframework.security.web.authentication.logout.LogoutFilter@40bce7a2, com.jz.nebula.jwt.JwtTokenFilter@6bd3000e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ea20a15, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ca078a5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a6a283a, org.springframework.security.web.session.SessionManagementFilter@4f29191d, org.springframework.security.web.access.ExceptionTranslationFilter@18dbd9b6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@72300a65]
2019-03-31 14:59:11.870  INFO 15955 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 14:59:12.620  INFO 15955 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 14:59:12.751  INFO 15955 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 14:59:12.809  INFO 15955 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3d5537d1:0/SimpleConnection@5a6ec77f [delegate=amqp://guest@127.0.0.1:5672/, localPort= 47142]
2019-03-31 14:59:12.881  INFO 15955 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 14:59:12.920  INFO 15955 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 14:59:12.926  INFO 15955 --- [restartedMain] com.jz.nebula.Application                : Started Application in 8.073 seconds (JVM running for 8.82)
2019-03-31 14:59:58.269  INFO 15955 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-03-31 14:59:58.271  INFO 15955 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-03-31 14:59:58.285  INFO 15955 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2019-03-31 14:59:58.299 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /cart-items at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 14:59:58.299 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /cart-items at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 14:59:58.301 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /cart-items at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 14:59:58.303 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /cart-items at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 14:59:58.303 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 14:59:58.303 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /cart-items' doesn't match 'GET /logout'
2019-03-31 14:59:58.303 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 14:59:58.303 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/cart-items'; against '/logout'
2019-03-31 14:59:58.304 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 14:59:58.304 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /cart-items' doesn't match 'PUT /logout'
2019-03-31 14:59:58.304 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 14:59:58.304 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /cart-items' doesn't match 'DELETE /logout'
2019-03-31 14:59:58.304 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 14:59:58.304 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /cart-items at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 14:59:58.433  INFO 15955 --- [http-nio-8090-exec-1] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-03-31 14:59:58.767 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /cart-items at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 14:59:58.767 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /cart-items at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 14:59:58.768 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /cart-items at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 14:59:58.768 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 14:59:58.768 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /cart-items at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 14:59:58.768 DEBUG 15955 --- [http-nio-8090-exec-1] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@77f3b5dc
2019-03-31 14:59:58.769 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /cart-items at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 14:59:58.769 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /cart-items at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 14:59:58.769 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/cart-items'; against '/auth/signin'
2019-03-31 14:59:58.769 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /cart-items; Attributes: [authenticated]
2019-03-31 14:59:58.769 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 14:59:58.773 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3746105a, returned: 1
2019-03-31 14:59:58.773 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 14:59:58.773 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 14:59:58.773 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /cart-items reached end of additional filter chain; proceeding with original chain
2019-03-31 14:59:58.843 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception; target is of class [com.jz.nebula.controller.CartItemController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 14:59:58.843 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 14:59:58.843 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5fc033d3, returned: 0
2019-03-31 14:59:58.843 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@624849ba, returned: 1
2019-03-31 14:59:58.843 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 14:59:58.843 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 14:59:58.875  INFO 15955 --- [http-nio-8090-exec-1] c.jz.nebula.validator.CartItemValidator  : Product with id:[12] is present
2019-03-31 14:59:58.876  INFO 15955 --- [http-nio-8090-exec-1] c.jz.nebula.validator.CartItemValidator  : Quantity for product id:[1] is valid
2019-03-31 14:59:58.919  INFO 15955 --- [http-nio-8090-exec-1] com.jz.nebula.service.CartItemService    : Product with id:[12] has been added
2019-03-31 14:59:59.008 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c6feca5
2019-03-31 14:59:59.016 DEBUG 15955 --- [http-nio-8090-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 14:59:59.016 DEBUG 15955 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:00:29.963 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /carts/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:00:29.963 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /carts/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:00:29.964 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /carts/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:00:29.964 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /carts/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:00:29.964 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:00:29.964 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /carts/finalise' doesn't match 'GET /logout'
2019-03-31 15:00:29.964 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:00:29.964 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/carts/finalise'; against '/logout'
2019-03-31 15:00:29.964 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:00:29.964 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /carts/finalise' doesn't match 'PUT /logout'
2019-03-31 15:00:29.964 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:00:29.967 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /carts/finalise' doesn't match 'DELETE /logout'
2019-03-31 15:00:29.967 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:00:29.967 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /carts/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:00:30.076 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /carts/finalise at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:00:30.077 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /carts/finalise at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:00:30.077 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /carts/finalise at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:00:30.077 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:00:30.077 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /carts/finalise at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:00:30.078 DEBUG 15955 --- [http-nio-8090-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@77f3b5dc
2019-03-31 15:00:30.078 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /carts/finalise at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:00:30.078 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /carts/finalise at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:00:30.078 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/carts/finalise'; against '/auth/signin'
2019-03-31 15:00:30.079 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /carts/finalise; Attributes: [authenticated]
2019-03-31 15:00:30.079 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:00:30.079 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3746105a, returned: 1
2019-03-31 15:00:30.080 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 15:00:30.080 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:00:30.080 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : /carts/finalise reached end of additional filter chain; proceeding with original chain
2019-03-31 15:00:30.082 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart(); target is of class [com.jz.nebula.controller.CartController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:00:30.083 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:00:30.083 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5fc033d3, returned: 0
2019-03-31 15:00:30.083 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@624849ba, returned: 1
2019-03-31 15:00:30.083 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 15:00:30.083 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:00:30.227 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c6feca5
2019-03-31 15:00:30.229 DEBUG 15955 --- [http-nio-8090-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 15:00:30.229 DEBUG 15955 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:00:41.530 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /payments/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:00:41.530 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /payments/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:00:41.530 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /payments/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:00:41.530 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /payments/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:00:41.531 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:00:41.531 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'GET /logout'
2019-03-31 15:00:41.531 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:00:41.531 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/logout'
2019-03-31 15:00:41.531 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:00:41.531 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'PUT /logout'
2019-03-31 15:00:41.531 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:00:41.532 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'DELETE /logout'
2019-03-31 15:00:41.532 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:00:41.532 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /payments/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:00:41.629 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /payments/finalise at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:00:41.629 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /payments/finalise at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:00:41.629 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /payments/finalise at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:00:41.630 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:00:41.630 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /payments/finalise at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:00:41.630 DEBUG 15955 --- [http-nio-8090-exec-4] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@77f3b5dc
2019-03-31 15:00:41.630 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /payments/finalise at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:00:41.630 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /payments/finalise at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:00:41.630 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/auth/signin'
2019-03-31 15:00:41.630 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /payments/finalise; Attributes: [authenticated]
2019-03-31 15:00:41.630 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:00:41.631 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3746105a, returned: 1
2019-03-31 15:00:41.631 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 15:00:41.631 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:00:41.631 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /payments/finalise reached end of additional filter chain; proceeding with original chain
2019-03-31 15:00:41.632 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception; target is of class [com.jz.nebula.controller.PaymentController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:00:41.632 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:00:41.632 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5fc033d3, returned: 0
2019-03-31 15:00:41.632 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@624849ba, returned: 1
2019-03-31 15:00:41.632 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 15:00:41.632 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:00:41.690 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c6feca5
2019-03-31 15:00:41.690 DEBUG 15955 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:00:41.699 ERROR 15955 --- [http-nio-8090-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:123) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1471) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:107) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:214) ~[spring-data-jpa-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:91) ~[spring-data-jpa-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:136) ~[spring-data-jpa-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:125) ~[spring-data-jpa-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.sun.proxy.$Proxy122.findByUserId(Unknown Source) ~[na:na]
	at com.jz.nebula.service.PaymentService.getMyOrder(PaymentService.java:54) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.finaliseOrder(PaymentService.java:76) ~[classes/:na]
	at com.jz.nebula.service.PaymentService$$FastClassBySpringCGLIB$$1969d086.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.service.PaymentService$$EnhancerBySpringCGLIB$$8233f2b9.finaliseOrder(<generated>) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController.finalise(PaymentController.java:31) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController$$FastClassBySpringCGLIB$$ca4ac0e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.controller.PaymentController$$EnhancerBySpringCGLIB$$fdbe8902.finalise(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at com.jz.nebula.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:30) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2019-03-31 15:00:41.706 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:00:41.706 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:00:41.706 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:00:41.706 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:00:41.706 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:00:41.706 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2019-03-31 15:00:41.706 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:00:41.706 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2019-03-31 15:00:41.706 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:00:41.707 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2019-03-31 15:00:41.707 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:00:41.707 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2019-03-31 15:00:41.707 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:00:41.707 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:00:41.809 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:00:41.809 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:00:41.809 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:00:41.809 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:00:41.809 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:00:41.809 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:00:41.809 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:00:41.809 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2019-03-31 15:00:41.835 DEBUG 15955 --- [http-nio-8090-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 15:00:41.835 DEBUG 15955 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:02:36.586 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /payments/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:02:36.586 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /payments/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:02:36.587 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /payments/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:02:36.587 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /payments/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:02:36.587 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:02:36.587 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'GET /logout'
2019-03-31 15:02:36.587 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:02:36.587 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/logout'
2019-03-31 15:02:36.587 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:02:36.587 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'PUT /logout'
2019-03-31 15:02:36.587 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:02:36.588 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'DELETE /logout'
2019-03-31 15:02:36.588 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:02:36.588 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /payments/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:02:36.694 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /payments/finalise at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:02:36.694 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /payments/finalise at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:02:36.695 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /payments/finalise at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:02:36.695 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:02:36.695 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /payments/finalise at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:02:36.695 DEBUG 15955 --- [http-nio-8090-exec-6] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@77f3b5dc
2019-03-31 15:02:36.695 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /payments/finalise at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:02:36.695 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /payments/finalise at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:02:36.695 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/auth/signin'
2019-03-31 15:02:36.695 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /payments/finalise; Attributes: [authenticated]
2019-03-31 15:02:36.695 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:02:36.696 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3746105a, returned: 1
2019-03-31 15:02:36.696 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 15:02:36.696 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:02:36.696 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /payments/finalise reached end of additional filter chain; proceeding with original chain
2019-03-31 15:02:36.697 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception; target is of class [com.jz.nebula.controller.PaymentController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:02:36.697 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:02:36.697 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5fc033d3, returned: 0
2019-03-31 15:02:36.697 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@624849ba, returned: 1
2019-03-31 15:02:36.697 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 15:02:36.697 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:02:36.716  INFO 15955 --- [http-nio-8090-exec-6] com.jz.nebula.payment.StripeGateway      : Sending charging request to Stripe...
2019-03-31 15:02:37.947 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c6feca5
2019-03-31 15:02:37.948 DEBUG 15955 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:02:37.952 ERROR 15955 --- [http-nio-8090-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.stripe.exception.InvalidRequestException: Invalid integer: 27392.0; code: parameter_invalid_integer] with root cause

com.stripe.exception.InvalidRequestException: Invalid integer: 27392.0
	at com.stripe.net.LiveStripeResponseGetter.handleApiError(LiveStripeResponseGetter.java:705) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.staticRequest(LiveStripeResponseGetter.java:531) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.request(LiveStripeResponseGetter.java:81) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.ApiResource.request(ApiResource.java:195) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:372) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:364) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.jz.nebula.payment.StripeGateway.doStripePayment(StripeGateway.java:58) ~[classes/:na]
	at com.jz.nebula.payment.StripeGateway.doPayment(StripeGateway.java:89) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.doPayment(PaymentService.java:101) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.finaliseOrder(PaymentService.java:86) ~[classes/:na]
	at com.jz.nebula.service.PaymentService$$FastClassBySpringCGLIB$$1969d086.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.service.PaymentService$$EnhancerBySpringCGLIB$$8233f2b9.finaliseOrder(<generated>) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController.finalise(PaymentController.java:31) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController$$FastClassBySpringCGLIB$$ca4ac0e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.controller.PaymentController$$EnhancerBySpringCGLIB$$fdbe8902.finalise(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at com.jz.nebula.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:30) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2019-03-31 15:02:37.954 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:02:37.955 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:02:37.955 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:02:37.955 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:02:37.955 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:02:37.955 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2019-03-31 15:02:37.955 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:02:37.955 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2019-03-31 15:02:37.955 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:02:37.955 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2019-03-31 15:02:37.955 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:02:37.955 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2019-03-31 15:02:37.955 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:02:37.956 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:02:38.046 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:02:38.046 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:02:38.046 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:02:38.046 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:02:38.046 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:02:38.046 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:02:38.047 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:02:38.047 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2019-03-31 15:02:38.053 DEBUG 15955 --- [http-nio-8090-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 15:02:38.053 DEBUG 15955 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:03:21.064  INFO 15955 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:03:21.907  INFO 15955 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:03:21.908  INFO 15955 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:03:22.902  INFO 15955 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:03:22.904  INFO 15955 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:03:23.902  INFO 15955 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:03:23.905  INFO 15955 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:03:24.903  INFO 15955 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:03:24.915  INFO 15955 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:03:24.915  INFO 15955 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:03:24.915  INFO 15955 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:03:24.915  INFO 15955 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:03:24.917  INFO 15955 --- [Thread-6] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:03:24.933  INFO 15955 --- [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:03:24.936  INFO 15955 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-03-31 15:03:24.954  INFO 15955 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-03-31 15:03:25.150  INFO 15955 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 15955 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:03:25.150  INFO 15955 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:03:25.471  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:03:25.472  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:03:25.473  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1ms. Found 0 repository interfaces.
2019-03-31 15:03:25.524  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:03:25.525  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:03:25.562  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37ms. Found 9 repository interfaces.
2019-03-31 15:03:25.566  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:03:25.566  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:03:25.573  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:03:25.573  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:03:25.574  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:03:25.574  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:03:25.574  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:03:25.575  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:03:25.575  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:03:25.575  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:03:25.576  INFO 15955 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:03:25.576  INFO 15955 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 0 repository interfaces.
2019-03-31 15:03:25.654  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$770e7a83] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:25.669  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b0a2bc55] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:25.673  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$4950848f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:25.674  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:25.675  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@12d292de' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:25.678  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$6e252741] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:25.680  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$937a3f57] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:25.681  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:25.681  INFO 15955 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:25.815  INFO 15955 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:03:25.817  INFO 15955 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:03:25.817  INFO 15955 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:03:25.838  INFO 15955 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:03:25.838  INFO 15955 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 685 ms
2019-03-31 15:03:26.008  INFO 15955 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2019-03-31 15:03:26.045  INFO 15955 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2019-03-31 15:03:26.057  INFO 15955 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:03:26.077  INFO 15955 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:03:26.193  INFO 15955 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:03:26.193  INFO 15955 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2a35cf50
2019-03-31 15:03:26.400  INFO 15955 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:03:26.686 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:03:26.686 DEBUG 15955 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:03:26.687 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.687 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.729 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.730 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.731 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.731 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.738 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.739 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.739 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.739 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.739 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.759 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.759 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.794 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.794 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.795 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.795 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.795 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.803 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.804 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.804 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.804 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.804 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.832 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.833 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.833 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.834 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.834 DEBUG 15955 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:26.875 DEBUG 15955 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$466d54b2@68f78ccb}
2019-03-31 15:03:26.890 DEBUG 15955 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:03:26.890 DEBUG 15955 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:03:26.891 DEBUG 15955 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:03:26.891 DEBUG 15955 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:03:26.893  INFO 15955 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6088c7e6, org.springframework.security.web.context.SecurityContextPersistenceFilter@45b918d, org.springframework.security.web.header.HeaderWriterFilter@3f9a53f8, org.springframework.security.web.authentication.logout.LogoutFilter@225d25d5, com.jz.nebula.jwt.JwtTokenFilter@479e1c51, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f8737f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@726fa26c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31935078, org.springframework.security.web.session.SessionManagementFilter@20fe038f, org.springframework.security.web.access.ExceptionTranslationFilter@44cbe190, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@72409765]
2019-03-31 15:03:27.071  INFO 15955 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 15:03:27.290  INFO 15955 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 15:03:27.331  INFO 15955 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 15:03:27.331 ERROR 15955 --- [redisMessageListenerContainer-1] o.s.d.r.l.RedisMessageListenerContainer  : SubscriptionTask aborted with exception:

org.springframework.dao.InvalidDataAccessApiUsageException: ERR Protocol error: expected '$', got '*'; nested exception is redis.clients.jedis.exceptions.JedisDataException: ERR Protocol error: expected '$', got '*'
	at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:64) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:41) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:142) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisConnection.subscribe(JedisConnection.java:742) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$SubscriptionTask.eventuallyPerformSubscription(RedisMessageListenerContainer.java:796) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$SubscriptionTask.run(RedisMessageListenerContainer.java:752) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]
Caused by: redis.clients.jedis.exceptions.JedisDataException: ERR Protocol error: expected '$', got '*'
	at redis.clients.jedis.Protocol.processError(Protocol.java:127) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Protocol.process(Protocol.java:161) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Protocol.read(Protocol.java:215) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:340) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.getRawObjectMultiBulkReply(Connection.java:285) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedisPubSub.process(BinaryJedisPubSub.java:87) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedisPubSub.proceed(BinaryJedisPubSub.java:82) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedis.subscribe(BinaryJedis.java:3070) ~[jedis-2.9.0.jar:na]
	at org.springframework.data.redis.connection.jedis.JedisConnection.subscribe(JedisConnection.java:739) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	... 3 common frames omitted

2019-03-31 15:03:27.336  INFO 15955 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5cd79176:0/SimpleConnection@79d86e8d [delegate=amqp://guest@127.0.0.1:5672/, localPort= 47194]
2019-03-31 15:03:27.377  INFO 15955 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 15:03:27.424  INFO 15955 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 15:03:27.426  INFO 15955 --- [restartedMain] com.jz.nebula.Application                : Started Application in 2.322 seconds (JVM running for 263.32)
2019-03-31 15:03:27.430  INFO 15955 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-03-31 15:03:31.787  INFO 15955 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:03:32.346  INFO 15955 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:03:32.353  INFO 15955 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:03:32.354  INFO 15955 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:03:32.356  INFO 15955 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:03:32.358  INFO 15955 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:03:32.359  INFO 15955 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:03:32.371  INFO 15955 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:03:32.378  INFO 15955 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:03:32.378  INFO 15955 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:03:32.378  INFO 15955 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:03:32.379  INFO 15955 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:03:32.381  INFO 15955 --- [Thread-16] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:03:32.386  INFO 15955 --- [Thread-16] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:03:32.387  INFO 15955 --- [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2019-03-31 15:03:32.406  INFO 15955 --- [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2019-03-31 15:03:39.430  INFO 16561 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 16561 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:03:39.434  INFO 16561 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:03:39.497  INFO 16561 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-03-31 15:03:39.498  INFO 16561 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-03-31 15:03:40.501  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:03:40.502  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:03:40.526  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 0 repository interfaces.
2019-03-31 15:03:40.757  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:03:40.759  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:03:40.966  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 205ms. Found 9 repository interfaces.
2019-03-31 15:03:40.975  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:03:40.976  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:03:40.986  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:03:40.986  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:03:40.987  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:03:40.988  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:03:40.988  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:03:40.989  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:03:40.990  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:03:40.991  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:03:40.991  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:03:40.992  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16ms. Found 0 repository interfaces.
2019-03-31 15:03:41.547  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$56896a94] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:41.626  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$901dac66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:41.674  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$28cb74a0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:41.683  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:41.685  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@f987758' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:41.690  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4da01752] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:41.700  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$72f52f68] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:41.705  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:41.707  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:03:42.238  INFO 16561 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:03:42.274  INFO 16561 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:03:42.275  INFO 16561 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:03:42.311  INFO 16561 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2019-03-31 15:03:42.430  INFO 16561 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:03:42.431  INFO 16561 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2933 ms
2019-03-31 15:03:42.788  INFO 16561 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-03-31 15:03:43.019  INFO 16561 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-03-31 15:03:43.097  INFO 16561 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:03:43.171  INFO 16561 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-03-31 15:03:43.173  INFO 16561 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-03-31 15:03:43.213  INFO 16561 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-03-31 15:03:43.348  INFO 16561 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:03:43.575  INFO 16561 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:03:43.576  INFO 16561 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2392d2bf
2019-03-31 15:03:44.322  INFO 16561 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:03:45.104 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:03:45.114 DEBUG 16561 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:03:45.115 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.115 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.167 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.170 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.171 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.171 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.182 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.183 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.183 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.184 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.184 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.212 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.214 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.234 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.235 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.236 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.236 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.236 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.245 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.246 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.246 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.246 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.247 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.271 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.272 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.272 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.273 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.273 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:45.398 DEBUG 16561 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$25e844c3@a019823}
2019-03-31 15:03:45.467 DEBUG 16561 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:03:45.468 DEBUG 16561 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:03:45.469 DEBUG 16561 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:03:45.470 DEBUG 16561 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:03:45.472  INFO 16561 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15b950c3, org.springframework.security.web.context.SecurityContextPersistenceFilter@41d380b6, org.springframework.security.web.header.HeaderWriterFilter@3bc61df8, org.springframework.security.web.authentication.logout.LogoutFilter@71a1f14d, com.jz.nebula.jwt.JwtTokenFilter@4674be6d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1782b7de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15f9735b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50373b1d, org.springframework.security.web.session.SessionManagementFilter@4db2bde9, org.springframework.security.web.access.ExceptionTranslationFilter@6734773e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1c69ee50]
2019-03-31 15:03:45.855  INFO 16561 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 15:03:46.653  INFO 16561 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 15:03:46.791  INFO 16561 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 15:03:46.851  INFO 16561 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6dace386:0/SimpleConnection@75c96e8e [delegate=amqp://guest@127.0.0.1:5672/, localPort= 47226]
2019-03-31 15:03:46.930  INFO 16561 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 15:03:46.964  INFO 16561 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 15:03:46.969  INFO 16561 --- [restartedMain] com.jz.nebula.Application                : Started Application in 8.081 seconds (JVM running for 8.79)
2019-03-31 15:03:53.162  INFO 16561 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-03-31 15:03:53.163  INFO 16561 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-03-31 15:03:53.176  INFO 16561 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2019-03-31 15:03:53.190 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:03:53.191 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:03:53.193 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:03:53.195 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:03:53.195 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:03:53.196 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'GET /logout'
2019-03-31 15:03:53.196 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:03:53.196 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/logout'
2019-03-31 15:03:53.196 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:03:53.196 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'PUT /logout'
2019-03-31 15:03:53.196 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:03:53.196 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'DELETE /logout'
2019-03-31 15:03:53.196 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:03:53.196 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:03:53.329  INFO 16561 --- [http-nio-8090-exec-2] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-03-31 15:03:53.626 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:03:53.626 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:03:53.627 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:03:53.627 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:03:53.627 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:03:53.628 DEBUG 16561 --- [http-nio-8090-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@7dca3e95
2019-03-31 15:03:53.628 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:03:53.628 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:03:53.629 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/auth/signin'
2019-03-31 15:03:53.629 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /payments/finalise; Attributes: [authenticated]
2019-03-31 15:03:53.629 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:03:53.633 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2e4e6810, returned: 1
2019-03-31 15:03:53.633 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 15:03:53.633 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:03:53.633 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise reached end of additional filter chain; proceeding with original chain
2019-03-31 15:03:53.646 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception; target is of class [com.jz.nebula.controller.PaymentController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:03:53.646 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:03:53.646 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@b740aba, returned: 0
2019-03-31 15:03:53.646 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@21efb438, returned: 1
2019-03-31 15:03:53.646 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 15:03:53.647 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:03:53.704  INFO 16561 --- [http-nio-8090-exec-2] com.jz.nebula.payment.StripeGateway      : Sending charging request to Stripe...
2019-03-31 15:03:54.848 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4301a1f3
2019-03-31 15:03:54.848 DEBUG 16561 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:03:54.855 ERROR 16561 --- [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.stripe.exception.InvalidRequestException: Invalid integer: 27392.0; code: parameter_invalid_integer] with root cause

com.stripe.exception.InvalidRequestException: Invalid integer: 27392.0
	at com.stripe.net.LiveStripeResponseGetter.handleApiError(LiveStripeResponseGetter.java:705) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.staticRequest(LiveStripeResponseGetter.java:531) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.request(LiveStripeResponseGetter.java:81) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.ApiResource.request(ApiResource.java:195) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:372) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:364) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.jz.nebula.payment.StripeGateway.doStripePayment(StripeGateway.java:58) ~[classes/:na]
	at com.jz.nebula.payment.StripeGateway.doPayment(StripeGateway.java:89) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.doPayment(PaymentService.java:101) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.finaliseOrder(PaymentService.java:86) ~[classes/:na]
	at com.jz.nebula.service.PaymentService$$FastClassBySpringCGLIB$$1969d086.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.service.PaymentService$$EnhancerBySpringCGLIB$$8e40e1b.finaliseOrder(<generated>) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController.finalise(PaymentController.java:31) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController$$FastClassBySpringCGLIB$$ca4ac0e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.controller.PaymentController$$EnhancerBySpringCGLIB$$6fc09e94.finalise(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at com.jz.nebula.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:30) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2019-03-31 15:03:54.860 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:03:54.860 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:03:54.860 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:03:54.860 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:03:54.860 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:03:54.860 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2019-03-31 15:03:54.860 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:03:54.861 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2019-03-31 15:03:54.861 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:03:54.861 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2019-03-31 15:03:54.861 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:03:54.861 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2019-03-31 15:03:54.861 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:03:54.861 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:03:54.956 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:03:54.956 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:03:54.956 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:03:54.956 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:03:54.956 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:03:54.957 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:03:54.957 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:03:54.957 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2019-03-31 15:03:55.001 DEBUG 16561 --- [http-nio-8090-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 15:03:55.001 DEBUG 16561 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:05:46.506  INFO 16561 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:05:46.931  INFO 16561 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:05:46.933  INFO 16561 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:05:47.927  INFO 16561 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:05:47.929  INFO 16561 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:05:47.930  INFO 16561 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:05:47.932  INFO 16561 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:05:47.933  INFO 16561 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:05:47.945  INFO 16561 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:05:47.945  INFO 16561 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:05:47.945  INFO 16561 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:05:47.945  INFO 16561 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:05:47.947  INFO 16561 --- [Thread-6] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:05:47.970  INFO 16561 --- [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:05:47.972  INFO 16561 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-03-31 15:05:48.009  INFO 16561 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-03-31 15:05:48.231  INFO 16561 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 16561 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:05:48.232  INFO 16561 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:05:48.563  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:05:48.563  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:05:48.564  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1ms. Found 0 repository interfaces.
2019-03-31 15:05:48.614  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:05:48.614  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:05:48.650  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35ms. Found 9 repository interfaces.
2019-03-31 15:05:48.654  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:05:48.654  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:05:48.661  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:05:48.661  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:05:48.661  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:05:48.662  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:05:48.662  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:05:48.662  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:05:48.663  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:05:48.663  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:05:48.663  INFO 16561 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:05:48.663  INFO 16561 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 0 repository interfaces.
2019-03-31 15:05:48.755  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$56896a94] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:05:48.769  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$901dac66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:05:48.773  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$28cb74a0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:05:48.775  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:05:48.775  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@72995d9f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:05:48.778  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4da01752] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:05:48.781  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$72f52f68] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:05:48.782  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:05:48.782  INFO 16561 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:05:48.893  INFO 16561 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:05:48.895  INFO 16561 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:05:48.895  INFO 16561 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:05:48.916  INFO 16561 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:05:48.917  INFO 16561 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 682 ms
2019-03-31 15:05:49.102  INFO 16561 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2019-03-31 15:05:49.132  INFO 16561 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2019-03-31 15:05:49.144  INFO 16561 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:05:49.164  INFO 16561 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:05:49.340  INFO 16561 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:05:49.340  INFO 16561 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2392d2bf
2019-03-31 15:05:49.528  INFO 16561 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:05:49.819 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:05:49.820 DEBUG 16561 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:05:49.820 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.821 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.861 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.862 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.863 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.863 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.872 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.873 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.873 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.873 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.873 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.894 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.895 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.925 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.926 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.927 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.927 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.927 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.937 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.938 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.939 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.939 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.939 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.964 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.966 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.966 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.966 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:49.966 DEBUG 16561 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:05:50.005 DEBUG 16561 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$25e844c3@3450b8b4}
2019-03-31 15:05:50.020 DEBUG 16561 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:05:50.020 DEBUG 16561 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:05:50.021 DEBUG 16561 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:05:50.021 DEBUG 16561 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:05:50.023  INFO 16561 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d82ccc5, org.springframework.security.web.context.SecurityContextPersistenceFilter@310c652e, org.springframework.security.web.header.HeaderWriterFilter@310e84ca, org.springframework.security.web.authentication.logout.LogoutFilter@4322b035, com.jz.nebula.jwt.JwtTokenFilter@54f46035, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d9e0449, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78f3efe4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ed21395, org.springframework.security.web.session.SessionManagementFilter@77f98265, org.springframework.security.web.access.ExceptionTranslationFilter@101391af, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50115dbb]
2019-03-31 15:06:29.050  INFO 17476 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 17476 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:06:29.054  INFO 17476 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:06:29.122  INFO 17476 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-03-31 15:06:29.122  INFO 17476 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-03-31 15:06:30.190  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:06:30.191  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:06:30.213  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 0 repository interfaces.
2019-03-31 15:06:30.451  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:06:30.453  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:06:30.675  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 220ms. Found 9 repository interfaces.
2019-03-31 15:06:30.685  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:06:30.686  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:06:30.695  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:06:30.696  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:06:30.696  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:06:30.697  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:06:30.698  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:06:30.698  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:06:30.699  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:06:30.700  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:06:30.701  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:06:30.701  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 0 repository interfaces.
2019-03-31 15:06:31.325  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$e7d24a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:06:31.415  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$48116677] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:06:31.466  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$e0bf2eb1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:06:31.475  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:06:31.477  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3293dad7' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:06:31.483  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$593d163] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:06:31.494  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$2ae8e979] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:06:31.499  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:06:31.501  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:06:32.066  INFO 17476 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:06:32.102  INFO 17476 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:06:32.103  INFO 17476 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:06:32.114  INFO 17476 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2019-03-31 15:06:32.262  INFO 17476 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:06:32.262  INFO 17476 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3140 ms
2019-03-31 15:06:32.705  INFO 17476 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-03-31 15:06:32.960  INFO 17476 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-03-31 15:06:33.053  INFO 17476 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:06:33.137  INFO 17476 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-03-31 15:06:33.138  INFO 17476 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-03-31 15:06:33.182  INFO 17476 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-03-31 15:06:33.325  INFO 17476 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:06:33.558  INFO 17476 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:06:33.559  INFO 17476 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@397eb4f6
2019-03-31 15:06:34.312  INFO 17476 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:06:35.211 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:06:35.221 DEBUG 17476 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:06:35.222 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.223 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.279 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.282 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.284 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.285 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.297 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.298 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.299 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.299 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.300 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.331 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.332 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.354 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.355 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.356 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.356 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.357 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.367 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.369 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.369 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.369 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.370 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.393 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.394 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.395 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.395 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.395 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:35.528 DEBUG 17476 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$dddbfed4@76a3559}
2019-03-31 15:06:35.601 DEBUG 17476 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:06:35.602 DEBUG 17476 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:06:35.604 DEBUG 17476 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:06:35.604 DEBUG 17476 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:06:35.608  INFO 17476 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f6c42c, org.springframework.security.web.context.SecurityContextPersistenceFilter@cf64ac, org.springframework.security.web.header.HeaderWriterFilter@2aa14d8f, org.springframework.security.web.authentication.logout.LogoutFilter@73657e24, com.jz.nebula.jwt.JwtTokenFilter@6b637b4b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f0d1dcd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f7e3dde, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c4e61a, org.springframework.security.web.session.SessionManagementFilter@455ba549, org.springframework.security.web.access.ExceptionTranslationFilter@7f854092, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d1baad7]
2019-03-31 15:06:36.000  INFO 17476 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 15:06:37.129  INFO 17476 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 15:06:37.323  INFO 17476 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 15:06:37.377  INFO 17476 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#c83e11b:0/SimpleConnection@2496205b [delegate=amqp://guest@127.0.0.1:5672/, localPort= 47904]
2019-03-31 15:06:37.455  INFO 17476 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 15:06:37.496  INFO 17476 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 15:06:37.501  INFO 17476 --- [restartedMain] com.jz.nebula.Application                : Started Application in 9.069 seconds (JVM running for 9.847)
2019-03-31 15:06:41.564  INFO 17476 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-03-31 15:06:41.568  INFO 17476 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-03-31 15:06:41.582  INFO 17476 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2019-03-31 15:06:41.595 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:06:41.595 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:06:41.597 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:06:41.599 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:06:41.599 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:06:41.599 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'GET /logout'
2019-03-31 15:06:41.599 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:06:41.600 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/logout'
2019-03-31 15:06:41.600 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:06:41.600 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'PUT /logout'
2019-03-31 15:06:41.600 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:06:41.600 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'DELETE /logout'
2019-03-31 15:06:41.600 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:06:41.600 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:06:41.747  INFO 17476 --- [http-nio-8090-exec-2] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-03-31 15:06:42.084 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:06:42.085 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:06:42.086 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:06:42.087 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:06:42.087 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:06:42.087 DEBUG 17476 --- [http-nio-8090-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@52c26aa3
2019-03-31 15:06:42.088 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:06:42.088 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:06:42.088 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/auth/signin'
2019-03-31 15:06:42.088 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /payments/finalise; Attributes: [authenticated]
2019-03-31 15:06:42.089 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:06:42.092 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1ba52108, returned: 1
2019-03-31 15:06:42.093 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 15:06:42.093 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:06:42.093 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise reached end of additional filter chain; proceeding with original chain
2019-03-31 15:06:42.110 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception; target is of class [com.jz.nebula.controller.PaymentController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:06:42.111 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:06:42.111 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@3014667a, returned: 0
2019-03-31 15:06:42.111 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@6d76bc4c, returned: 1
2019-03-31 15:06:42.112 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 15:06:42.112 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:06:42.172  INFO 17476 --- [http-nio-8090-exec-2] com.jz.nebula.payment.StripeGateway      : Sending charging request to Stripe...
2019-03-31 15:06:43.437 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@bca7f32
2019-03-31 15:06:43.438 DEBUG 17476 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:06:43.445 ERROR 17476 --- [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.stripe.exception.InvalidRequestException: Invalid integer: 27392.0; code: parameter_invalid_integer] with root cause

com.stripe.exception.InvalidRequestException: Invalid integer: 27392.0
	at com.stripe.net.LiveStripeResponseGetter.handleApiError(LiveStripeResponseGetter.java:705) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.staticRequest(LiveStripeResponseGetter.java:531) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.request(LiveStripeResponseGetter.java:81) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.ApiResource.request(ApiResource.java:195) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:372) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:364) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.jz.nebula.payment.StripeGateway.doStripePayment(StripeGateway.java:58) ~[classes/:na]
	at com.jz.nebula.payment.StripeGateway.doPayment(StripeGateway.java:89) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.doPayment(PaymentService.java:101) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.finaliseOrder(PaymentService.java:86) ~[classes/:na]
	at com.jz.nebula.service.PaymentService$$FastClassBySpringCGLIB$$1969d086.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.service.PaymentService$$EnhancerBySpringCGLIB$$5f418583.finaliseOrder(<generated>) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController.finalise(PaymentController.java:31) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController$$FastClassBySpringCGLIB$$ca4ac0e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.controller.PaymentController$$EnhancerBySpringCGLIB$$12a94460.finalise(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at com.jz.nebula.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:30) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2019-03-31 15:06:43.449 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:06:43.450 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:06:43.450 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:06:43.450 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:06:43.450 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:06:43.450 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2019-03-31 15:06:43.450 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:06:43.450 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2019-03-31 15:06:43.450 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:06:43.450 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2019-03-31 15:06:43.451 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:06:43.451 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2019-03-31 15:06:43.451 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:06:43.451 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:06:43.540 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:06:43.540 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:06:43.540 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:06:43.541 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:06:43.541 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:06:43.541 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:06:43.541 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:06:43.543 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2019-03-31 15:06:43.602 DEBUG 17476 --- [http-nio-8090-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 15:06:43.602 DEBUG 17476 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:07:20.670  INFO 17476 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:07:21.444  INFO 17476 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:07:21.446  INFO 17476 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:07:22.442  INFO 17476 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:07:22.444  INFO 17476 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:07:22.446  INFO 17476 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:07:22.447  INFO 17476 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:07:22.449  INFO 17476 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:07:22.463  INFO 17476 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:07:22.463  INFO 17476 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:07:22.464  INFO 17476 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:07:22.464  INFO 17476 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:07:22.465  INFO 17476 --- [Thread-6] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:07:22.483  INFO 17476 --- [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:07:22.486  INFO 17476 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-03-31 15:07:22.504  INFO 17476 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-03-31 15:07:22.703  INFO 17476 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 17476 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:07:22.704  INFO 17476 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:07:23.017  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:07:23.017  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:07:23.018  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1ms. Found 0 repository interfaces.
2019-03-31 15:07:23.069  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:07:23.069  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:07:23.104  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34ms. Found 9 repository interfaces.
2019-03-31 15:07:23.108  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:07:23.108  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:07:23.114  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:07:23.114  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:07:23.115  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:07:23.115  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:07:23.115  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:07:23.115  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:07:23.116  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:07:23.116  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:07:23.116  INFO 17476 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:07:23.117  INFO 17476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 0 repository interfaces.
2019-03-31 15:07:23.219  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$e7d24a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:23.237  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$48116677] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:23.242  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$e0bf2eb1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:23.244  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:23.245  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@37baf34a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:23.248  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$593d163] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:23.251  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$2ae8e979] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:23.252  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:23.252  INFO 17476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:23.385  INFO 17476 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:07:23.386  INFO 17476 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:07:23.387  INFO 17476 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:07:23.407  INFO 17476 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:07:23.407  INFO 17476 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 700 ms
2019-03-31 15:07:23.578  INFO 17476 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2019-03-31 15:07:23.605  INFO 17476 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2019-03-31 15:07:23.617  INFO 17476 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:07:23.637  INFO 17476 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:07:23.809  INFO 17476 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:07:23.809  INFO 17476 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@397eb4f6
2019-03-31 15:07:24.062  INFO 17476 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:07:24.435 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:07:24.436 DEBUG 17476 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:07:24.437 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.437 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.487 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.489 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.489 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.489 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.497 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.498 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.498 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.498 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.498 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.519 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.520 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.539 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.540 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.540 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.540 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.541 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.549 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.550 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.550 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.551 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.551 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.593 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.595 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.595 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.595 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.595 DEBUG 17476 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:24.644 DEBUG 17476 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$dddbfed4@67c0d8dc}
2019-03-31 15:07:24.659 DEBUG 17476 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:07:24.660 DEBUG 17476 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:07:24.661 DEBUG 17476 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:07:24.661 DEBUG 17476 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:07:24.663  INFO 17476 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bc5452b, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c2ec114, org.springframework.security.web.header.HeaderWriterFilter@67da8bad, org.springframework.security.web.authentication.logout.LogoutFilter@79bf0d9, com.jz.nebula.jwt.JwtTokenFilter@55be4018, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@bfde077, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38499546, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37f1d8e9, org.springframework.security.web.session.SessionManagementFilter@1155d709, org.springframework.security.web.access.ExceptionTranslationFilter@2871e0b6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7512e7e9]
2019-03-31 15:07:24.846  INFO 17476 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 15:07:25.072  INFO 17476 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 15:07:25.131 ERROR 17476 --- [redisMessageListenerContainer-1] o.s.d.r.l.RedisMessageListenerContainer  : SubscriptionTask aborted with exception:

org.springframework.dao.InvalidDataAccessApiUsageException: ERR Protocol error: invalid bulk length; nested exception is redis.clients.jedis.exceptions.JedisDataException: ERR Protocol error: invalid bulk length
	at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:64) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:41) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:142) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisConnection.subscribe(JedisConnection.java:742) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$SubscriptionTask.eventuallyPerformSubscription(RedisMessageListenerContainer.java:796) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$SubscriptionTask.run(RedisMessageListenerContainer.java:752) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]
Caused by: redis.clients.jedis.exceptions.JedisDataException: ERR Protocol error: invalid bulk length
	at redis.clients.jedis.Protocol.processError(Protocol.java:127) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Protocol.process(Protocol.java:161) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Protocol.read(Protocol.java:215) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:340) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.getRawObjectMultiBulkReply(Connection.java:285) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedisPubSub.process(BinaryJedisPubSub.java:87) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedisPubSub.proceed(BinaryJedisPubSub.java:82) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedis.subscribe(BinaryJedis.java:3070) ~[jedis-2.9.0.jar:na]
	at org.springframework.data.redis.connection.jedis.JedisConnection.subscribe(JedisConnection.java:739) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	... 3 common frames omitted

2019-03-31 15:07:25.132  INFO 17476 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 15:07:25.145  INFO 17476 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#400a0919:0/SimpleConnection@6cc73d3c [delegate=amqp://guest@127.0.0.1:5672/, localPort= 47944]
2019-03-31 15:07:25.179  INFO 17476 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 15:07:25.217  INFO 17476 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 15:07:25.219  INFO 17476 --- [restartedMain] com.jz.nebula.Application                : Started Application in 2.563 seconds (JVM running for 57.565)
2019-03-31 15:07:25.223  INFO 17476 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-03-31 15:07:27.685  INFO 17476 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:07:28.153  INFO 17476 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:07:28.156  INFO 17476 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:07:28.157  INFO 17476 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:07:28.159  INFO 17476 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:07:29.159  INFO 17476 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:07:29.160  INFO 17476 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:07:29.168  INFO 17476 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:07:29.173  INFO 17476 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:07:29.173  INFO 17476 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:07:29.174  INFO 17476 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:07:29.174  INFO 17476 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:07:29.175  INFO 17476 --- [Thread-16] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:07:29.184  INFO 17476 --- [Thread-16] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:07:29.185  INFO 17476 --- [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2019-03-31 15:07:29.219  INFO 17476 --- [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2019-03-31 15:07:35.727  INFO 17783 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 17783 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:07:35.731  INFO 17783 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:07:35.806  INFO 17783 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-03-31 15:07:35.807  INFO 17783 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-03-31 15:07:36.946  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:07:36.947  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:07:36.970  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 0 repository interfaces.
2019-03-31 15:07:37.235  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:07:37.237  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:07:37.509  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 269ms. Found 9 repository interfaces.
2019-03-31 15:07:37.520  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:07:37.520  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:07:37.529  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:07:37.530  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:07:37.531  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:07:37.531  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:07:37.532  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:07:37.533  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:07:37.534  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:07:37.535  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:07:37.535  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:07:37.536  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 0 repository interfaces.
2019-03-31 15:07:38.181  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$43e8a9be] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:38.273  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7d7ceb90] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:38.327  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$162ab3ca] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:38.337  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:38.340  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@199abc4a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:38.346  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$3aff567c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:38.356  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$60546e92] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:38.363  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:38.365  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:07:38.925  INFO 17783 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:07:38.960  INFO 17783 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:07:38.960  INFO 17783 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:07:38.976  INFO 17783 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2019-03-31 15:07:39.124  INFO 17783 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:07:39.146  INFO 17783 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3339 ms
2019-03-31 15:07:39.568  INFO 17783 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-03-31 15:07:39.822  INFO 17783 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-03-31 15:07:39.914  INFO 17783 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:07:40.018  INFO 17783 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-03-31 15:07:40.020  INFO 17783 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-03-31 15:07:40.065  INFO 17783 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-03-31 15:07:40.217  INFO 17783 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:07:40.451  INFO 17783 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:07:40.452  INFO 17783 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@439574e1
2019-03-31 15:07:41.210  INFO 17783 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:07:42.061 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:07:42.074 DEBUG 17783 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:07:42.075 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.076 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.138 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.141 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.143 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.143 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.154 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.155 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.155 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.156 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.156 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.186 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.187 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.209 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.210 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.211 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.211 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.211 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.220 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.222 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.222 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.222 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.223 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.248 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.249 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.249 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.250 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.250 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:42.390 DEBUG 17783 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$134783ed@2a67d2a1}
2019-03-31 15:07:42.470 DEBUG 17783 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:07:42.471 DEBUG 17783 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:07:42.473 DEBUG 17783 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:07:42.474 DEBUG 17783 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:07:42.476  INFO 17783 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b74f772, org.springframework.security.web.context.SecurityContextPersistenceFilter@18f11a09, org.springframework.security.web.header.HeaderWriterFilter@5ed30399, org.springframework.security.web.authentication.logout.LogoutFilter@54e25bd1, com.jz.nebula.jwt.JwtTokenFilter@62f19e5e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@207a29f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63a0962, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11d1317e, org.springframework.security.web.session.SessionManagementFilter@594411d1, org.springframework.security.web.access.ExceptionTranslationFilter@76cbe20a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@96481c8]
2019-03-31 15:07:42.931  INFO 17783 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 15:07:43.797  INFO 17783 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 15:07:43.948  INFO 17783 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 15:07:44.013  INFO 17783 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4dac69b5:0/SimpleConnection@27a6e767 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 47976]
2019-03-31 15:07:44.097  INFO 17783 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 15:07:44.146  INFO 17783 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 15:07:44.152  INFO 17783 --- [restartedMain] com.jz.nebula.Application                : Started Application in 9.065 seconds (JVM running for 9.888)
2019-03-31 15:07:53.445  INFO 17783 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-03-31 15:07:53.447  INFO 17783 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-03-31 15:07:53.459  INFO 17783 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2019-03-31 15:07:53.481 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:07:53.482 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:07:53.484 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:07:53.486 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:07:53.487 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:07:53.488 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'GET /logout'
2019-03-31 15:07:53.488 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:07:53.488 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/logout'
2019-03-31 15:07:53.488 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:07:53.488 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'PUT /logout'
2019-03-31 15:07:53.489 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:07:53.489 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'DELETE /logout'
2019-03-31 15:07:53.489 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:07:53.489 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:07:53.629  INFO 17783 --- [http-nio-8090-exec-2] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-03-31 15:07:53.951 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:07:53.952 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:07:53.953 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:07:53.953 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:07:53.953 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:07:53.953 DEBUG 17783 --- [http-nio-8090-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6fa1cf33
2019-03-31 15:07:53.954 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:07:53.954 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:07:53.954 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/auth/signin'
2019-03-31 15:07:53.955 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /payments/finalise; Attributes: [authenticated]
2019-03-31 15:07:53.955 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:07:53.960 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@13adc58f, returned: 1
2019-03-31 15:07:53.960 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 15:07:53.960 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:07:53.960 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise reached end of additional filter chain; proceeding with original chain
2019-03-31 15:07:53.976 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception; target is of class [com.jz.nebula.controller.PaymentController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:07:53.976 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:07:53.976 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5a5353f3, returned: 0
2019-03-31 15:07:53.976 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@3cd98ae2, returned: 1
2019-03-31 15:07:53.976 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 15:07:53.977 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:07:54.033  INFO 17783 --- [http-nio-8090-exec-2] com.jz.nebula.payment.StripeGateway      : Sending charging request to Stripe...
2019-03-31 15:07:55.157 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c6916a6
2019-03-31 15:07:55.157 DEBUG 17783 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:07:55.164 ERROR 17783 --- [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.stripe.exception.InvalidRequestException: Invalid integer: 27392.0; code: parameter_invalid_integer] with root cause

com.stripe.exception.InvalidRequestException: Invalid integer: 27392.0
	at com.stripe.net.LiveStripeResponseGetter.handleApiError(LiveStripeResponseGetter.java:705) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.staticRequest(LiveStripeResponseGetter.java:531) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.LiveStripeResponseGetter.request(LiveStripeResponseGetter.java:81) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.net.ApiResource.request(ApiResource.java:195) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:372) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.stripe.model.Charge.create(Charge.java:364) ~[stripe-java-7.0.0.jar:7.0.0]
	at com.jz.nebula.payment.StripeGateway.doStripePayment(StripeGateway.java:58) ~[classes/:na]
	at com.jz.nebula.payment.StripeGateway.doPayment(StripeGateway.java:89) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.doPayment(PaymentService.java:103) ~[classes/:na]
	at com.jz.nebula.service.PaymentService.finaliseOrder(PaymentService.java:88) ~[classes/:na]
	at com.jz.nebula.service.PaymentService$$FastClassBySpringCGLIB$$1969d086.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.service.PaymentService$$EnhancerBySpringCGLIB$$65bdfb0b.finaliseOrder(<generated>) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController.finalise(PaymentController.java:31) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController$$FastClassBySpringCGLIB$$ca4ac0e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.controller.PaymentController$$EnhancerBySpringCGLIB$$a6f3e4ae.finalise(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at com.jz.nebula.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:30) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2019-03-31 15:07:55.169 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:07:55.169 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:07:55.169 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:07:55.169 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:07:55.169 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:07:55.169 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2019-03-31 15:07:55.169 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:07:55.169 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2019-03-31 15:07:55.169 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:07:55.170 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2019-03-31 15:07:55.170 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:07:55.170 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2019-03-31 15:07:55.170 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:07:55.170 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:07:55.265 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:07:55.265 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:07:55.265 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:07:55.265 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:07:55.266 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:07:55.266 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:07:55.266 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:07:55.266 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2019-03-31 15:07:55.312 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 15:07:55.312 DEBUG 17783 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:09:04.502  INFO 17783 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:09:05.095  INFO 17783 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:09:05.099  INFO 17783 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:09:06.091  INFO 17783 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:09:06.092  INFO 17783 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:09:06.094  INFO 17783 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:09:06.095  INFO 17783 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:09:06.097  INFO 17783 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:09:06.107  INFO 17783 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:09:06.108  INFO 17783 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:09:06.108  INFO 17783 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:09:06.108  INFO 17783 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:09:06.112  INFO 17783 --- [Thread-6] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:09:06.130  INFO 17783 --- [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:09:06.132  INFO 17783 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-03-31 15:09:06.175  INFO 17783 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-03-31 15:09:06.428  INFO 17783 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 17783 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:09:06.429  INFO 17783 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:09:06.773  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:09:06.774  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:09:06.775  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1ms. Found 0 repository interfaces.
2019-03-31 15:09:06.828  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:09:06.828  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:09:06.861  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33ms. Found 9 repository interfaces.
2019-03-31 15:09:06.864  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:09:06.865  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:09:06.871  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:09:06.871  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:09:06.872  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:09:06.872  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:09:06.872  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:09:06.873  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:09:06.873  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:09:06.873  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:09:06.874  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:09:06.874  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 0 repository interfaces.
2019-03-31 15:09:06.979  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$43e8a9be] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:07.019  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7d7ceb90] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:07.023  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$162ab3ca] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:07.025  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:07.026  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5df50380' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:07.029  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$3aff567c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:07.033  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$60546e92] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:07.033  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:07.034  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:07.173  INFO 17783 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:09:07.175  INFO 17783 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:09:07.175  INFO 17783 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:09:07.197  INFO 17783 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:09:07.197  INFO 17783 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 765 ms
2019-03-31 15:09:07.374  INFO 17783 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2019-03-31 15:09:07.399  INFO 17783 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2019-03-31 15:09:07.411  INFO 17783 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:09:07.431  INFO 17783 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:09:07.584  INFO 17783 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:09:07.584  INFO 17783 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@439574e1
2019-03-31 15:09:07.825  INFO 17783 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:09:08.147 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:09:08.148 DEBUG 17783 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:09:08.149 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.150 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.215 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.216 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.217 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.217 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.226 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.227 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.228 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.228 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.228 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.251 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.252 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.274 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.275 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.275 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.275 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.275 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.284 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.285 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.286 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.286 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.286 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.321 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.322 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.322 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.322 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.323 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:08.376 DEBUG 17783 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$134783ed@7088e5f0}
2019-03-31 15:09:08.393 DEBUG 17783 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:09:08.393 DEBUG 17783 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:09:08.394 DEBUG 17783 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:09:08.395 DEBUG 17783 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:09:08.397  INFO 17783 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@681dd80f, org.springframework.security.web.context.SecurityContextPersistenceFilter@7a13902, org.springframework.security.web.header.HeaderWriterFilter@3b5f349a, org.springframework.security.web.authentication.logout.LogoutFilter@7c07ffe2, com.jz.nebula.jwt.JwtTokenFilter@245621e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4969bf3f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bd0a96c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@333d7343, org.springframework.security.web.session.SessionManagementFilter@30d8ef03, org.springframework.security.web.access.ExceptionTranslationFilter@6cc45859, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c4fb0cd]
2019-03-31 15:09:08.604  INFO 17783 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 15:09:08.829  INFO 17783 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 15:09:08.880  INFO 17783 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 15:09:08.892  INFO 17783 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#bb92940:0/SimpleConnection@1bdadd20 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 48012]
2019-03-31 15:09:08.940  INFO 17783 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 15:09:08.964  INFO 17783 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 15:09:08.965  INFO 17783 --- [restartedMain] com.jz.nebula.Application                : Started Application in 2.606 seconds (JVM running for 94.702)
2019-03-31 15:09:08.970  INFO 17783 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-03-31 15:09:21.680  INFO 17783 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:09:21.910  INFO 17783 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:09:21.911  INFO 17783 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:09:21.914  INFO 17783 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:09:21.916  INFO 17783 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:09:21.923  INFO 17783 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:09:21.924  INFO 17783 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:09:21.928  INFO 17783 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:09:21.945  INFO 17783 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:09:21.946  INFO 17783 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:09:21.946  INFO 17783 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:09:21.946  INFO 17783 --- [Thread-10] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:09:21.947  INFO 17783 --- [Thread-10] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:09:21.960  INFO 17783 --- [Thread-10] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:09:21.962  INFO 17783 --- [Thread-10] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2019-03-31 15:09:21.974  INFO 17783 --- [Thread-10] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2019-03-31 15:09:22.150  INFO 17783 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 17783 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:09:22.151  INFO 17783 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:09:22.418  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:09:22.418  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:09:22.419  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0ms. Found 0 repository interfaces.
2019-03-31 15:09:22.460  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:09:22.460  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:09:22.492  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32ms. Found 9 repository interfaces.
2019-03-31 15:09:22.495  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:09:22.495  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:09:22.500  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:09:22.501  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:09:22.501  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:09:22.501  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:09:22.501  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:09:22.501  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:09:22.502  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:09:22.502  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:09:22.502  INFO 17783 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:09:22.502  INFO 17783 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 0 repository interfaces.
2019-03-31 15:09:22.579  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$43e8a9be] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:22.593  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7d7ceb90] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:22.609  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$162ab3ca] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:22.611  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:22.611  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7896ebd6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:22.615  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$3aff567c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:22.620  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$60546e92] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:22.620  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:22.620  INFO 17783 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:09:22.726  INFO 17783 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:09:22.727  INFO 17783 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:09:22.728  INFO 17783 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:09:22.747  INFO 17783 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:09:22.747  INFO 17783 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 593 ms
2019-03-31 15:09:22.896  INFO 17783 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2019-03-31 15:09:22.921  INFO 17783 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2019-03-31 15:09:22.934  INFO 17783 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:09:22.949  INFO 17783 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:09:23.098  INFO 17783 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:09:23.098  INFO 17783 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@439574e1
2019-03-31 15:09:23.293  INFO 17783 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:09:23.552 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:09:23.553 DEBUG 17783 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:09:23.554 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.554 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.620 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.621 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.622 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.622 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.630 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.631 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.631 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.631 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.631 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.652 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.653 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.673 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.674 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.674 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.675 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.675 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.682 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.683 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.684 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.684 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.684 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.720 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.720 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.721 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.721 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.721 DEBUG 17783 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:23.761 DEBUG 17783 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$134783ed@3c3001e4}
2019-03-31 15:09:23.776 DEBUG 17783 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:09:23.776 DEBUG 17783 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:09:23.777 DEBUG 17783 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:09:23.777 DEBUG 17783 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:09:23.779  INFO 17783 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c585ad4, org.springframework.security.web.context.SecurityContextPersistenceFilter@46613a49, org.springframework.security.web.header.HeaderWriterFilter@6fb702e, org.springframework.security.web.authentication.logout.LogoutFilter@485a3543, com.jz.nebula.jwt.JwtTokenFilter@2e40d3a1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@726e8d0c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fc9f96f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@61c0223b, org.springframework.security.web.session.SessionManagementFilter@1c1f6d78, org.springframework.security.web.access.ExceptionTranslationFilter@4b5ffc9d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@48d0f3e9]
2019-03-31 15:09:23.974  INFO 17783 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 15:09:24.169  INFO 17783 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 15:09:24.205  INFO 17783 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 15:09:24.208  INFO 17783 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#28361955:0/SimpleConnection@343c6223 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 48040]
2019-03-31 15:09:24.230  INFO 17783 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 15:09:24.261  INFO 17783 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 15:09:24.263  INFO 17783 --- [restartedMain] com.jz.nebula.Application                : Started Application in 2.15 seconds (JVM running for 109.999)
2019-03-31 15:09:24.268  INFO 17783 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-03-31 15:09:42.771  INFO 17783 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-03-31 15:09:42.772  INFO 17783 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-03-31 15:09:42.779  INFO 17783 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2019-03-31 15:09:42.780 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:09:42.780 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:09:42.780 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:09:42.780 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:09:42.780 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:09:42.780 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'GET /logout'
2019-03-31 15:09:42.781 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:09:42.781 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/logout'
2019-03-31 15:09:42.781 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:09:42.781 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'PUT /logout'
2019-03-31 15:09:42.781 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:09:42.781 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'DELETE /logout'
2019-03-31 15:09:42.781 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:09:42.781 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:09:42.805  INFO 17783 --- [http-nio-8090-exec-2] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-03-31 15:09:42.922 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:09:42.922 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:09:42.922 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:09:42.922 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:09:42.923 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:09:42.923 DEBUG 17783 --- [http-nio-8090-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2b8cccb4
2019-03-31 15:09:42.923 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:09:42.923 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:09:42.923 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/auth/signin'
2019-03-31 15:09:42.923 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /payments/finalise; Attributes: [authenticated]
2019-03-31 15:09:42.923 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:09:42.924 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@56bf100b, returned: 1
2019-03-31 15:09:42.924 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 15:09:42.924 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:09:42.924 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise reached end of additional filter chain; proceeding with original chain
2019-03-31 15:09:42.925 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception; target is of class [com.jz.nebula.controller.PaymentController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:09:42.925 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:09:42.925 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@27143746, returned: 0
2019-03-31 15:09:42.925 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@4fcf2424, returned: 1
2019-03-31 15:09:42.925 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 15:09:42.925 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:09:42.966  INFO 17783 --- [http-nio-8090-exec-2] com.jz.nebula.payment.StripeGateway      : Sending charging request to Stripe...
2019-03-31 15:09:44.041  INFO 17783 --- [http-nio-8090-exec-2] com.jz.nebula.payment.StripeGateway      : Charge success...
2019-03-31 15:09:44.044 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@60b93856
2019-03-31 15:09:44.045 DEBUG 17783 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:09:44.047 ERROR 17783 --- [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: stream has already been operated upon or closed] with root cause

java.lang.IllegalStateException: stream has already been operated upon or closed
	at java.base/java.util.stream.AbstractPipeline.sourceStageSpliterator(AbstractPipeline.java:279) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658) ~[na:na]
	at com.jz.nebula.service.PaymentService.finaliseOrder(PaymentService.java:89) ~[classes/:na]
	at com.jz.nebula.service.PaymentService$$FastClassBySpringCGLIB$$1969d086.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.service.PaymentService$$EnhancerBySpringCGLIB$$65bdfb0b.finaliseOrder(<generated>) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController.finalise(PaymentController.java:31) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController$$FastClassBySpringCGLIB$$ca4ac0e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.controller.PaymentController$$EnhancerBySpringCGLIB$$a6f3e4ae.finalise(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at com.jz.nebula.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:30) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2019-03-31 15:09:44.049 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:09:44.049 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:09:44.050 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:09:44.050 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:09:44.050 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:09:44.050 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2019-03-31 15:09:44.050 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:09:44.050 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2019-03-31 15:09:44.050 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:09:44.050 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2019-03-31 15:09:44.050 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:09:44.050 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2019-03-31 15:09:44.050 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:09:44.050 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:09:44.078  INFO 17783 --- [SimpleAsyncTaskExecutor-1] com.jz.nebula.amqp.MessageConsumer       : Received nebula.topic.invoice message: invoice.ch_1EJuzLLPZtDafulkBRYSusZs
2019-03-31 15:09:44.147 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:09:44.147 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:09:44.147 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:09:44.147 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:09:44.147 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:09:44.147 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:09:44.147 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:09:44.147 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2019-03-31 15:09:44.173 DEBUG 17783 --- [http-nio-8090-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 15:09:44.173 DEBUG 17783 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:09:53.004  INFO 17783 --- [Thread-23] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:09:53.219  INFO 17783 --- [Thread-23] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:09:53.225  INFO 17783 --- [Thread-23] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:09:53.226  INFO 17783 --- [Thread-23] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:09:53.227  INFO 17783 --- [Thread-23] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:09:54.226  INFO 17783 --- [Thread-23] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:09:54.228  INFO 17783 --- [Thread-23] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:09:55.082  INFO 17783 --- [Thread-23] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:09:55.095  INFO 17783 --- [Thread-23] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:09:55.096  INFO 17783 --- [Thread-23] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:09:55.097  INFO 17783 --- [Thread-23] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:09:55.097  INFO 17783 --- [Thread-23] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:09:55.097  INFO 17783 --- [Thread-23] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:09:55.103  INFO 17783 --- [Thread-23] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:09:55.104  INFO 17783 --- [Thread-23] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2019-03-31 15:09:55.121  INFO 17783 --- [Thread-23] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2019-03-31 15:10:02.084  INFO 18316 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 18316 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:10:02.088  INFO 18316 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:10:02.152  INFO 18316 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-03-31 15:10:02.152  INFO 18316 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-03-31 15:10:03.142  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:10:03.143  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:10:03.164  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 0 repository interfaces.
2019-03-31 15:10:03.402  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:10:03.404  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:10:03.635  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 229ms. Found 9 repository interfaces.
2019-03-31 15:10:03.645  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:10:03.646  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:10:03.655  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:10:03.655  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:10:03.656  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:10:03.657  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:10:03.657  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:10:03.658  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:10:03.658  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:10:03.659  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:10:03.660  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:10:03.660  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 0 repository interfaces.
2019-03-31 15:10:04.277  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$ee5afb28] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:10:04.361  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$27ef3cfa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:10:04.407  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$c09d0534] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:10:04.416  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:10:04.418  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7e7e95db' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:10:04.424  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$e571a7e6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:10:04.436  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$ac6bffc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:10:04.441  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:10:04.443  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:10:05.019  INFO 18316 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:10:05.065  INFO 18316 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:10:05.066  INFO 18316 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:10:05.079  INFO 18316 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2019-03-31 15:10:05.228  INFO 18316 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:10:05.229  INFO 18316 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3076 ms
2019-03-31 15:10:05.634  INFO 18316 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-03-31 15:10:05.879  INFO 18316 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-03-31 15:10:05.961  INFO 18316 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:10:06.040  INFO 18316 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-03-31 15:10:06.042  INFO 18316 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-03-31 15:10:06.088  INFO 18316 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-03-31 15:10:06.237  INFO 18316 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:10:06.497  INFO 18316 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:10:06.499  INFO 18316 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6af31169
2019-03-31 15:10:07.269  INFO 18316 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:10:08.058 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:10:08.068 DEBUG 18316 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:10:08.070 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.070 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.130 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.132 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.134 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.134 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.147 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.148 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.149 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.149 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.149 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.182 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.183 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.208 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.209 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.210 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.210 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.211 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.221 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.222 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.222 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.222 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.223 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.253 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.254 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.254 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.254 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.255 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:08.402 DEBUG 18316 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$bdb9d557@2ce99dc8}
2019-03-31 15:10:08.481 DEBUG 18316 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:10:08.482 DEBUG 18316 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:10:08.485 DEBUG 18316 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:10:08.485 DEBUG 18316 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:10:08.488  INFO 18316 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c530e26, org.springframework.security.web.context.SecurityContextPersistenceFilter@8b5359, org.springframework.security.web.header.HeaderWriterFilter@27f4c7a9, org.springframework.security.web.authentication.logout.LogoutFilter@46c2c239, com.jz.nebula.jwt.JwtTokenFilter@3f1f2187, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@226c6592, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@fe14d7b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6679b3fa, org.springframework.security.web.session.SessionManagementFilter@624977c1, org.springframework.security.web.access.ExceptionTranslationFilter@4ce48bc7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@32f5cf1e]
2019-03-31 15:10:08.890  INFO 18316 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 15:10:09.821  INFO 18316 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 15:10:09.968  INFO 18316 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 15:10:10.029  INFO 18316 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#657f2ab4:0/SimpleConnection@3c12bf2c [delegate=amqp://guest@127.0.0.1:5672/, localPort= 48076]
2019-03-31 15:10:10.112  INFO 18316 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 15:10:10.154  INFO 18316 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 15:10:10.160  INFO 18316 --- [restartedMain] com.jz.nebula.Application                : Started Application in 8.688 seconds (JVM running for 9.476)
2019-03-31 15:10:15.635  INFO 18316 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-03-31 15:10:15.637  INFO 18316 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-03-31 15:10:15.653  INFO 18316 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2019-03-31 15:10:15.668 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:10:15.669 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:10:15.670 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:10:15.673 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:10:15.673 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:10:15.673 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'GET /logout'
2019-03-31 15:10:15.674 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:10:15.679 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/logout'
2019-03-31 15:10:15.680 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:10:15.681 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'PUT /logout'
2019-03-31 15:10:15.681 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:10:15.681 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'DELETE /logout'
2019-03-31 15:10:15.681 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:10:15.681 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:10:15.868  INFO 18316 --- [http-nio-8090-exec-2] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-03-31 15:10:16.153 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:10:16.153 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:10:16.154 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:10:16.155 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:10:16.155 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:10:16.155 DEBUG 18316 --- [http-nio-8090-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@20915159
2019-03-31 15:10:16.155 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:10:16.155 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:10:16.156 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/auth/signin'
2019-03-31 15:10:16.156 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /payments/finalise; Attributes: [authenticated]
2019-03-31 15:10:16.156 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:10:16.160 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@773342cb, returned: 1
2019-03-31 15:10:16.160 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 15:10:16.161 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:10:16.161 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise reached end of additional filter chain; proceeding with original chain
2019-03-31 15:10:16.177 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception; target is of class [com.jz.nebula.controller.PaymentController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:10:16.177 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:10:16.177 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d91f107, returned: 0
2019-03-31 15:10:16.177 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@20a44054, returned: 1
2019-03-31 15:10:16.178 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 15:10:16.178 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:10:16.235  INFO 18316 --- [http-nio-8090-exec-2] com.jz.nebula.payment.StripeGateway      : Sending charging request to Stripe...
2019-03-31 15:10:17.762  INFO 18316 --- [http-nio-8090-exec-2] com.jz.nebula.payment.StripeGateway      : Charge success...
2019-03-31 15:10:17.768 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4ec1c9c1
2019-03-31 15:10:17.768 DEBUG 18316 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:10:17.771  INFO 18316 --- [SimpleAsyncTaskExecutor-1] com.jz.nebula.amqp.MessageConsumer       : Received nebula.topic.invoice message: invoice.ch_1EJuztLPZtDafulkymBokPIL
2019-03-31 15:10:17.774 ERROR 18316 --- [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: stream has already been operated upon or closed] with root cause

java.lang.IllegalStateException: stream has already been operated upon or closed
	at java.base/java.util.stream.AbstractPipeline.sourceStageSpliterator(AbstractPipeline.java:279) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658) ~[na:na]
	at com.jz.nebula.service.PaymentService.finaliseOrder(PaymentService.java:89) ~[classes/:na]
	at com.jz.nebula.service.PaymentService$$FastClassBySpringCGLIB$$1969d086.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.service.PaymentService$$EnhancerBySpringCGLIB$$e5b627d7.finaliseOrder(<generated>) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController.finalise(PaymentController.java:31) ~[classes/:na]
	at com.jz.nebula.controller.PaymentController$$FastClassBySpringCGLIB$$ca4ac0e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at com.jz.nebula.controller.PaymentController$$EnhancerBySpringCGLIB$$1ca30889.finalise(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at com.jz.nebula.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:30) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2019-03-31 15:10:17.779 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:10:17.779 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:10:17.779 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:10:17.779 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:10:17.779 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:10:17.779 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2019-03-31 15:10:17.780 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:10:17.780 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2019-03-31 15:10:17.780 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:10:17.780 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2019-03-31 15:10:17.780 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:10:17.780 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2019-03-31 15:10:17.780 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:10:17.780 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:10:17.871 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:10:17.871 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:10:17.871 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:10:17.871 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:10:17.871 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:10:17.871 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:10:17.871 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:10:17.872 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2019-03-31 15:10:17.917 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 15:10:17.917 DEBUG 18316 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:11:03.448  INFO 18316 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:11:03.788  INFO 18316 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:11:03.790  INFO 18316 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:11:04.100  INFO 18316 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:11:04.103  INFO 18316 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:11:05.101  INFO 18316 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:11:05.102  INFO 18316 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:11:05.112  INFO 18316 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:11:05.129  INFO 18316 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:11:05.130  INFO 18316 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:11:05.130  INFO 18316 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:11:05.130  INFO 18316 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:11:05.131  INFO 18316 --- [Thread-6] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:11:05.158  INFO 18316 --- [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:11:05.160  INFO 18316 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-03-31 15:11:05.182  INFO 18316 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-03-31 15:11:05.389  INFO 18316 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 18316 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:11:05.390  INFO 18316 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:11:05.701  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:11:05.701  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:11:05.702  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1ms. Found 0 repository interfaces.
2019-03-31 15:11:05.751  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:11:05.752  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:11:05.788  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36ms. Found 9 repository interfaces.
2019-03-31 15:11:05.792  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:11:05.792  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:11:05.800  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:11:05.800  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:11:05.801  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:11:05.801  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:11:05.801  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:11:05.801  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:11:05.802  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:11:05.802  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:11:05.802  INFO 18316 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:11:05.803  INFO 18316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 0 repository interfaces.
2019-03-31 15:11:05.915  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$ee5afb28] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:05.933  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$27ef3cfa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:05.936  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$c09d0534] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:05.939  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:05.939  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@44b7e8ba' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:05.942  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$e571a7e6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:05.945  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$ac6bffc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:05.946  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:05.946  INFO 18316 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:06.078  INFO 18316 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:11:06.080  INFO 18316 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:11:06.080  INFO 18316 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:11:06.102  INFO 18316 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:11:06.102  INFO 18316 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 709 ms
2019-03-31 15:11:06.284  INFO 18316 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2019-03-31 15:11:06.321  INFO 18316 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2019-03-31 15:11:06.340  INFO 18316 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:11:06.375  INFO 18316 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:11:06.534  INFO 18316 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:11:06.536  INFO 18316 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6af31169
2019-03-31 15:11:06.746  INFO 18316 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:11:07.070 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:11:07.071 DEBUG 18316 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:11:07.072 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.072 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.140 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.142 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.142 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.142 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.155 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.156 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.156 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.156 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.156 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.181 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.182 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.209 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.210 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.210 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.210 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.210 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.220 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.221 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.221 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.221 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.221 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.257 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.258 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.259 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.259 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.259 DEBUG 18316 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:07.301 DEBUG 18316 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$bdb9d557@5fcdae83}
2019-03-31 15:11:07.318 DEBUG 18316 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:11:07.318 DEBUG 18316 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:11:07.319 DEBUG 18316 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:11:07.319 DEBUG 18316 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:11:07.321  INFO 18316 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7075ebc8, org.springframework.security.web.context.SecurityContextPersistenceFilter@75c1a6f1, org.springframework.security.web.header.HeaderWriterFilter@3bf0bd20, org.springframework.security.web.authentication.logout.LogoutFilter@26c6bbf3, com.jz.nebula.jwt.JwtTokenFilter@550238a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2fd17556, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11f6c431, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38988341, org.springframework.security.web.session.SessionManagementFilter@d575a16, org.springframework.security.web.access.ExceptionTranslationFilter@48725708, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5387ce13]
2019-03-31 15:11:07.491  INFO 18316 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 15:11:07.739  INFO 18316 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 15:11:07.806  INFO 18316 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 15:11:07.805 ERROR 18316 --- [redisMessageListenerContainer-1] o.s.d.r.l.RedisMessageListenerContainer  : SubscriptionTask aborted with exception:

org.springframework.dao.InvalidDataAccessApiUsageException: ERR Protocol error: expected '$', got ' '; nested exception is redis.clients.jedis.exceptions.JedisDataException: ERR Protocol error: expected '$', got ' '
	at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:64) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:41) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:142) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisConnection.subscribe(JedisConnection.java:742) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$SubscriptionTask.eventuallyPerformSubscription(RedisMessageListenerContainer.java:796) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$SubscriptionTask.run(RedisMessageListenerContainer.java:752) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]
Caused by: redis.clients.jedis.exceptions.JedisDataException: ERR Protocol error: expected '$', got ' '
	at redis.clients.jedis.Protocol.processError(Protocol.java:127) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Protocol.process(Protocol.java:161) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Protocol.read(Protocol.java:215) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:340) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.getRawObjectMultiBulkReply(Connection.java:285) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedisPubSub.process(BinaryJedisPubSub.java:87) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedisPubSub.proceed(BinaryJedisPubSub.java:82) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedis.subscribe(BinaryJedis.java:3070) ~[jedis-2.9.0.jar:na]
	at org.springframework.data.redis.connection.jedis.JedisConnection.subscribe(JedisConnection.java:739) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	... 3 common frames omitted

2019-03-31 15:11:07.825  INFO 18316 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4bd6f374:0/SimpleConnection@68a12d78 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 48120]
2019-03-31 15:11:07.871  INFO 18316 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 15:11:07.894  INFO 18316 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 15:11:07.895  INFO 18316 --- [restartedMain] com.jz.nebula.Application                : Started Application in 2.556 seconds (JVM running for 67.212)
2019-03-31 15:11:07.900  INFO 18316 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-03-31 15:11:14.581  INFO 18316 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-03-31 15:11:14.581  INFO 18316 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-03-31 15:11:14.590  INFO 18316 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2019-03-31 15:11:14.591 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:11:14.591 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:11:14.591 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:11:14.591 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:11:14.591 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:11:14.591 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'GET /logout'
2019-03-31 15:11:14.591 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:11:14.591 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/logout'
2019-03-31 15:11:14.592 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:11:14.592 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'PUT /logout'
2019-03-31 15:11:14.592 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:11:14.592 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'DELETE /logout'
2019-03-31 15:11:14.592 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:11:14.592 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:11:14.595 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5c16b2f2
2019-03-31 15:11:14.596 DEBUG 18316 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:11:14.600 ERROR 18316 --- [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

org.springframework.data.redis.RedisConnectionFailureException: java.net.SocketException: Broken pipe (Write failed); nested exception is redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: Broken pipe (Write failed)
	at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:67) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:41) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:142) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisHashCommands.convertJedisAccessException(JedisHashCommands.java:448) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.jedis.JedisHashCommands.hGet(JedisHashCommands.java:173) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.DefaultedRedisConnection.hGet(DefaultedRedisConnection.java:926) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.connection.DefaultStringRedisConnection.hGet(DefaultStringRedisConnection.java:458) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.core.DefaultHashOperations.lambda$get$0(DefaultHashOperations.java:53) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:224) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:184) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:95) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.data.redis.core.DefaultHashOperations.get(DefaultHashOperations.java:53) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at com.jz.nebula.jwt.JwtTokenProvider.validateToken(JwtTokenProvider.java:88) ~[classes/:na]
	at com.jz.nebula.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:26) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81) ~[spring-session-core-2.1.2.RELEASE.jar:2.1.2.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.13.jar:9.0.13]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]
Caused by: redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: Broken pipe (Write failed)
	at redis.clients.jedis.Connection.flush(Connection.java:334) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:257) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedis.hget(BinaryJedis.java:855) ~[jedis-2.9.0.jar:na]
	at org.springframework.data.redis.connection.jedis.JedisHashCommands.hGet(JedisHashCommands.java:171) ~[spring-data-redis-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	... 62 common frames omitted
Caused by: java.net.SocketException: Broken pipe (Write failed)
	at java.base/java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:na]
	at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:na]
	at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:na]
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:52) ~[jedis-2.9.0.jar:na]
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:216) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.flush(Connection.java:331) ~[jedis-2.9.0.jar:na]
	... 65 common frames omitted

2019-03-31 15:11:14.603 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:11:14.603 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:11:14.604 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:11:14.604 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:11:14.604 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:11:14.613 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2019-03-31 15:11:14.613 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:11:14.613 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2019-03-31 15:11:14.613 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:11:14.613 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2019-03-31 15:11:14.613 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:11:14.613 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2019-03-31 15:11:14.613 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:11:14.613 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:11:14.627  INFO 18316 --- [http-nio-8090-exec-2] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-03-31 15:11:14.739 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:11:14.739 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:11:14.739 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:11:14.739 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:11:14.740 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:11:14.740 DEBUG 18316 --- [http-nio-8090-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@52e432b4
2019-03-31 15:11:14.740 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:11:14.740 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:11:14.740 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/auth/signin'
2019-03-31 15:11:14.740 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /error; Attributes: [authenticated]
2019-03-31 15:11:14.741 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:11:14.741 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@17bfeec0, returned: 1
2019-03-31 15:11:14.741 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 15:11:14.741 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:11:14.741 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2019-03-31 15:11:14.759 DEBUG 18316 --- [http-nio-8090-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 15:11:14.759 DEBUG 18316 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:11:21.495  INFO 18316 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:11:21.838  INFO 18316 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:11:21.840  INFO 18316 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:11:21.852  INFO 18316 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:11:21.853  INFO 18316 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:11:21.856  INFO 18316 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:11:21.857  INFO 18316 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:11:21.865  INFO 18316 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:11:21.870  INFO 18316 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:11:21.871  INFO 18316 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:11:21.871  INFO 18316 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:11:21.871  INFO 18316 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:11:21.872  INFO 18316 --- [Thread-16] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:11:21.878  INFO 18316 --- [Thread-16] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:11:21.879  INFO 18316 --- [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2019-03-31 15:11:21.900  INFO 18316 --- [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2019-03-31 15:11:28.299  INFO 18664 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 18664 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:11:28.304  INFO 18664 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:11:28.362  INFO 18664 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-03-31 15:11:28.363  INFO 18664 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-03-31 15:11:29.431  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:11:29.432  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:11:29.452  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 0 repository interfaces.
2019-03-31 15:11:29.687  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:11:29.688  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:11:29.910  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 219ms. Found 9 repository interfaces.
2019-03-31 15:11:29.920  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:11:29.920  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:11:29.929  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:11:29.929  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:11:29.930  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:11:29.931  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:11:29.931  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:11:29.932  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:11:29.932  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:11:29.933  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:11:29.934  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:11:29.934  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 0 repository interfaces.
2019-03-31 15:11:30.553  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$c6c63d09] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:30.647  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5a7edb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:30.698  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$99084715] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:30.707  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:30.709  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7bb8655f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:30.714  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$bddce9c7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:30.725  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$e33201dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:30.730  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:30.731  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:11:31.301  INFO 18664 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:11:31.368  INFO 18664 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:11:31.368  INFO 18664 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:11:31.382  INFO 18664 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2019-03-31 15:11:31.507  INFO 18664 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:11:31.507  INFO 18664 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3144 ms
2019-03-31 15:11:31.909  INFO 18664 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-03-31 15:11:32.192  INFO 18664 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-03-31 15:11:32.273  INFO 18664 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:11:32.364  INFO 18664 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-03-31 15:11:32.365  INFO 18664 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-03-31 15:11:32.407  INFO 18664 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-03-31 15:11:32.547  INFO 18664 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:11:32.782  INFO 18664 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:11:32.784  INFO 18664 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2070d243
2019-03-31 15:11:33.578  INFO 18664 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:11:34.475 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:11:34.484 DEBUG 18664 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:11:34.486 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.487 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.550 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.553 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.555 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.555 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.568 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.569 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.569 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.570 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.570 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.602 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.603 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.628 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.629 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.629 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.629 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.630 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.639 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.640 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.640 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.641 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.641 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.669 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.670 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.671 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.671 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.672 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:34.825 DEBUG 18664 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$96251738@228641d8}
2019-03-31 15:11:34.897 DEBUG 18664 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:11:34.899 DEBUG 18664 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:11:34.901 DEBUG 18664 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:11:34.902 DEBUG 18664 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:11:34.906  INFO 18664 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ee7324a, org.springframework.security.web.context.SecurityContextPersistenceFilter@1fe2e7b2, org.springframework.security.web.header.HeaderWriterFilter@4740ba47, org.springframework.security.web.authentication.logout.LogoutFilter@7849b720, com.jz.nebula.jwt.JwtTokenFilter@8dea63a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b2866c7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76427907, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67959a28, org.springframework.security.web.session.SessionManagementFilter@6aaf5df9, org.springframework.security.web.access.ExceptionTranslationFilter@cf64ed7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@470889e0]
2019-03-31 15:11:35.397  INFO 18664 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 15:11:36.148  INFO 18664 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 15:11:36.277  INFO 18664 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 15:11:36.333  INFO 18664 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1143e536:0/SimpleConnection@614079c9 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 48156]
2019-03-31 15:11:36.419  INFO 18664 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 15:11:36.480  INFO 18664 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 15:11:36.484  INFO 18664 --- [restartedMain] com.jz.nebula.Application                : Started Application in 8.784 seconds (JVM running for 9.542)
2019-03-31 15:11:40.000  INFO 18664 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-03-31 15:11:40.001  INFO 18664 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-03-31 15:11:40.021  INFO 18664 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 17 ms
2019-03-31 15:11:40.047 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:11:40.048 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:11:40.049 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:11:40.051 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:11:40.052 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:11:40.053 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'GET /logout'
2019-03-31 15:11:40.053 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:11:40.053 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/logout'
2019-03-31 15:11:40.053 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:11:40.054 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'PUT /logout'
2019-03-31 15:11:40.054 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:11:40.054 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'DELETE /logout'
2019-03-31 15:11:40.054 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:11:40.054 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:11:40.207  INFO 18664 --- [http-nio-8090-exec-2] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-03-31 15:11:40.507 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:11:40.507 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:11:40.508 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:11:40.509 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:11:40.509 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:11:40.509 DEBUG 18664 --- [http-nio-8090-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4362a9e0
2019-03-31 15:11:40.509 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:11:40.509 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:11:40.510 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/auth/signin'
2019-03-31 15:11:40.510 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /payments/finalise; Attributes: [authenticated]
2019-03-31 15:11:40.510 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:11:40.514 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@537e1e12, returned: 1
2019-03-31 15:11:40.515 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 15:11:40.515 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:11:40.515 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : /payments/finalise reached end of additional filter chain; proceeding with original chain
2019-03-31 15:11:40.532 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception; target is of class [com.jz.nebula.controller.PaymentController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:11:40.532 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:11:40.532 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@30f16b27, returned: 0
2019-03-31 15:11:40.532 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@339ef4e8, returned: 1
2019-03-31 15:11:40.532 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 15:11:40.533 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:11:40.604  INFO 18664 --- [http-nio-8090-exec-2] com.jz.nebula.payment.StripeGateway      : Sending charging request to Stripe...
2019-03-31 15:11:42.201  INFO 18664 --- [http-nio-8090-exec-2] com.jz.nebula.payment.StripeGateway      : Charge success...
2019-03-31 15:11:42.215  INFO 18664 --- [SimpleAsyncTaskExecutor-1] com.jz.nebula.amqp.MessageConsumer       : Received nebula.topic.invoice message: invoice.ch_1EJv1FLPZtDafulkoi9qcSZm
2019-03-31 15:11:42.353 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7cdd3bf
2019-03-31 15:11:42.359 DEBUG 18664 --- [http-nio-8090-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 15:11:42.360 DEBUG 18664 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:12:31.778  INFO 18664 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:12:32.231  INFO 18664 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:12:32.233  INFO 18664 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:12:32.408  INFO 18664 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:12:32.410  INFO 18664 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:12:33.410  INFO 18664 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:12:33.413  INFO 18664 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:12:34.412  INFO 18664 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:12:34.425  INFO 18664 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:12:34.426  INFO 18664 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:12:34.426  INFO 18664 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:12:34.426  INFO 18664 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:12:34.435  INFO 18664 --- [Thread-6] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:12:34.451  INFO 18664 --- [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:12:34.453  INFO 18664 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-03-31 15:12:34.472  INFO 18664 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-03-31 15:12:34.688  INFO 18664 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 18664 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:12:34.689  INFO 18664 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:12:34.998  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:12:34.999  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:12:35.000  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1ms. Found 0 repository interfaces.
2019-03-31 15:12:35.048  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:12:35.049  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:12:35.088  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39ms. Found 9 repository interfaces.
2019-03-31 15:12:35.093  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:12:35.093  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:12:35.099  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:12:35.100  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:12:35.100  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:12:35.100  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:12:35.101  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:12:35.101  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:12:35.101  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:12:35.102  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:12:35.102  INFO 18664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:12:35.102  INFO 18664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 0 repository interfaces.
2019-03-31 15:12:35.188  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$c6c63d09] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:12:35.211  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5a7edb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:12:35.215  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$99084715] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:12:35.217  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:12:35.217  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7a3ff5f9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:12:35.220  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$bddce9c7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:12:35.223  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$e33201dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:12:35.224  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:12:35.225  INFO 18664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:12:35.351  INFO 18664 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:12:35.353  INFO 18664 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:12:35.353  INFO 18664 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:12:35.372  INFO 18664 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:12:35.373  INFO 18664 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 681 ms
2019-03-31 15:12:35.540  INFO 18664 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2019-03-31 15:12:35.570  INFO 18664 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2019-03-31 15:12:35.594  INFO 18664 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:12:35.618  INFO 18664 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:12:35.760  INFO 18664 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:12:35.760  INFO 18664 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2070d243
2019-03-31 15:12:35.978  INFO 18664 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:12:36.333 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:12:36.334 DEBUG 18664 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:12:36.335 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.335 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.378 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.379 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.380 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.380 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.390 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.403 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.404 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.404 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.404 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.427 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.428 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.450 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.451 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.451 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.451 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.451 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.463 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.464 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.464 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.464 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.465 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.494 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.495 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.495 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.496 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.496 DEBUG 18664 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:12:36.539 DEBUG 18664 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$96251738@58e274ef}
2019-03-31 15:12:36.555 DEBUG 18664 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:12:36.556 DEBUG 18664 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:12:36.557 DEBUG 18664 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:12:36.557 DEBUG 18664 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:12:36.559  INFO 18664 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7076eb3f, org.springframework.security.web.context.SecurityContextPersistenceFilter@2de18509, org.springframework.security.web.header.HeaderWriterFilter@7fb8f003, org.springframework.security.web.authentication.logout.LogoutFilter@6d93831, com.jz.nebula.jwt.JwtTokenFilter@1fc370d1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@388fc2df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8f1525, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a67db01, org.springframework.security.web.session.SessionManagementFilter@7f3f3df8, org.springframework.security.web.access.ExceptionTranslationFilter@3875b1c3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7819b111]
2019-03-31 15:12:36.732  INFO 18664 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 15:12:36.969  INFO 18664 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 15:12:37.023  INFO 18664 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 15:12:37.029  INFO 18664 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7e2b4c7e:0/SimpleConnection@17641077 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 48216]
2019-03-31 15:12:37.090  INFO 18664 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 15:12:37.129  INFO 18664 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 15:12:37.131  INFO 18664 --- [restartedMain] com.jz.nebula.Application                : Started Application in 2.503 seconds (JVM running for 70.19)
2019-03-31 15:12:37.137  INFO 18664 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-03-31 15:12:38.209  INFO 18664 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:12:39.050  INFO 18664 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:12:39.051  INFO 18664 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:12:39.066  INFO 18664 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:12:39.068  INFO 18664 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:12:39.074  INFO 18664 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:12:39.075  INFO 18664 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:12:39.081  INFO 18664 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:12:39.085  INFO 18664 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:12:39.086  INFO 18664 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:12:39.086  INFO 18664 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:12:39.086  INFO 18664 --- [Thread-16] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:12:39.087  INFO 18664 --- [Thread-16] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:12:39.099  INFO 18664 --- [Thread-16] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:12:39.100  INFO 18664 --- [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2019-03-31 15:12:39.122  INFO 18664 --- [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2019-03-31 15:16:15.708  INFO 19539 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 19539 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:16:15.711  INFO 19539 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:16:15.771  INFO 19539 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-03-31 15:16:15.771  INFO 19539 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-03-31 15:16:16.767  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:16:16.769  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:16:16.790  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6ms. Found 0 repository interfaces.
2019-03-31 15:16:17.004  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:16:17.005  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:16:17.240  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 232ms. Found 9 repository interfaces.
2019-03-31 15:16:17.249  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:16:17.250  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:16:17.258  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:16:17.259  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:16:17.260  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:16:17.261  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:16:17.261  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:16:17.262  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:16:17.263  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:16:17.264  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:16:17.265  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:16:17.265  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 0 repository interfaces.
2019-03-31 15:16:17.830  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$43886fc6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:16:17.918  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7d1cb198] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:16:17.968  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$15ca79d2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:16:17.976  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:16:17.977  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5844b4c5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:16:17.982  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$3a9f1c84] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:16:17.992  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$5ff4349a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:16:17.996  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:16:17.998  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:16:18.488  INFO 19539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:16:18.527  INFO 19539 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:16:18.527  INFO 19539 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:16:18.539  INFO 19539 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]
2019-03-31 15:16:18.671  INFO 19539 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:16:18.672  INFO 19539 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2900 ms
2019-03-31 15:16:19.027  INFO 19539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-03-31 15:16:19.264  INFO 19539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-03-31 15:16:19.347  INFO 19539 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:16:19.439  INFO 19539 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-03-31 15:16:19.444  INFO 19539 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-03-31 15:16:19.488  INFO 19539 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-03-31 15:16:19.618  INFO 19539 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:16:19.852  INFO 19539 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:16:19.853  INFO 19539 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2fb3b167
2019-03-31 15:16:20.563  INFO 19539 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:16:21.354 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:16:21.363 DEBUG 19539 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:16:21.365 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.365 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.425 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.428 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.429 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.430 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.441 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.442 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.443 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.443 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.444 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.475 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.476 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.500 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.501 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.502 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.502 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.502 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.511 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.512 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.512 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.513 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.513 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.537 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.538 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.539 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.540 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.540 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:21.683 DEBUG 19539 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$12e749f5@6f930307}
2019-03-31 15:16:21.763 DEBUG 19539 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:16:21.765 DEBUG 19539 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:16:21.767 DEBUG 19539 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:16:21.767 DEBUG 19539 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:16:21.771  INFO 19539 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6372b0f0, org.springframework.security.web.context.SecurityContextPersistenceFilter@310900f9, org.springframework.security.web.header.HeaderWriterFilter@396f9fde, org.springframework.security.web.authentication.logout.LogoutFilter@4931cb5c, com.jz.nebula.jwt.JwtTokenFilter@5cdaaad9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5248fdc4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4139c179, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7170b39c, org.springframework.security.web.session.SessionManagementFilter@15b631e1, org.springframework.security.web.access.ExceptionTranslationFilter@242c2d1a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c52b389]
2019-03-31 15:16:22.167  INFO 19539 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 15:16:22.935  INFO 19539 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 15:16:23.068  INFO 19539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 15:16:23.133  INFO 19539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3d3e4299:0/SimpleConnection@887432d [delegate=amqp://guest@127.0.0.1:5672/, localPort= 48288]
2019-03-31 15:16:23.211  INFO 19539 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 15:16:23.247  INFO 19539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 15:16:23.253  INFO 19539 --- [restartedMain] com.jz.nebula.Application                : Started Application in 8.119 seconds (JVM running for 8.887)
2019-03-31 15:16:28.365  INFO 19539 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-03-31 15:16:28.366  INFO 19539 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-03-31 15:16:28.382  INFO 19539 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2019-03-31 15:16:28.395 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /payments/finalise at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-03-31 15:16:28.396 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /payments/finalise at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-03-31 15:16:28.398 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /payments/finalise at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-03-31 15:16:28.401 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /payments/finalise at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-03-31 15:16:28.401 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-03-31 15:16:28.402 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'GET /logout'
2019-03-31 15:16:28.402 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-03-31 15:16:28.402 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/logout'
2019-03-31 15:16:28.402 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-03-31 15:16:28.402 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'PUT /logout'
2019-03-31 15:16:28.402 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-03-31 15:16:28.402 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /payments/finalise' doesn't match 'DELETE /logout'
2019-03-31 15:16:28.402 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-03-31 15:16:28.403 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /payments/finalise at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2019-03-31 15:16:28.532  INFO 19539 --- [http-nio-8090-exec-1] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-03-31 15:16:28.877 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /payments/finalise at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-03-31 15:16:28.877 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /payments/finalise at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-03-31 15:16:28.878 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /payments/finalise at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-03-31 15:16:28.879 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER'
2019-03-31 15:16:28.879 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /payments/finalise at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-03-31 15:16:28.879 DEBUG 19539 --- [http-nio-8090-exec-1] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@d043ac2
2019-03-31 15:16:28.879 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /payments/finalise at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-03-31 15:16:28.879 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /payments/finalise at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-03-31 15:16:28.880 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/payments/finalise'; against '/auth/signin'
2019-03-31 15:16:28.880 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /payments/finalise; Attributes: [authenticated]
2019-03-31 15:16:28.881 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:16:28.885 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@660d3af3, returned: 1
2019-03-31 15:16:28.885 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-03-31 15:16:28.885 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:16:28.885 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : /payments/finalise reached end of additional filter chain; proceeding with original chain
2019-03-31 15:16:28.901 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.a.i.a.MethodSecurityInterceptor    : Secure object: ReflectiveMethodInvocation: public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception; target is of class [com.jz.nebula.controller.PaymentController]; Attributes: [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:16:28.901 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.a.i.a.MethodSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff31ab69: Principal: org.springframework.security.core.userdetails.User@bb2ca959: Username: joe999; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-03-31 15:16:28.901 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@23b44dc9, returned: 0
2019-03-31 15:16:28.901 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.access.annotation.Jsr250Voter@2f83794a, returned: 1
2019-03-31 15:16:28.901 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorization successful
2019-03-31 15:16:28.902 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.a.i.a.MethodSecurityInterceptor    : RunAsManager did not change Authentication object
2019-03-31 15:16:28.957  INFO 19539 --- [http-nio-8090-exec-1] com.jz.nebula.payment.StripeGateway      : Sending charging request to Stripe...
2019-03-31 15:16:30.432  INFO 19539 --- [http-nio-8090-exec-1] com.jz.nebula.payment.StripeGateway      : Charge success...
2019-03-31 15:16:30.441  INFO 19539 --- [SimpleAsyncTaskExecutor-1] com.jz.nebula.amqp.MessageConsumer       : Received nebula.topic.invoice message: invoice.ch_1EJv5tLPZtDafulkxNxfPLO7
2019-03-31 15:16:30.530 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@47042b9a
2019-03-31 15:16:30.537 DEBUG 19539 --- [http-nio-8090-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-03-31 15:16:30.537 DEBUG 19539 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-03-31 15:18:12.799  INFO 19539 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:18:13.216  INFO 19539 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:18:13.218  INFO 19539 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:18:14.212  INFO 19539 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:18:14.214  INFO 19539 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:18:15.213  INFO 19539 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:18:15.215  INFO 19539 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:18:15.464  INFO 19539 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:18:15.482  INFO 19539 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:18:15.483  INFO 19539 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:18:15.483  INFO 19539 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:18:15.483  INFO 19539 --- [Thread-6] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:18:15.484  INFO 19539 --- [Thread-6] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:18:15.499  INFO 19539 --- [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:18:15.501  INFO 19539 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-03-31 15:18:15.529  INFO 19539 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-03-31 15:18:15.727  INFO 19539 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 19539 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:18:15.728  INFO 19539 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:18:16.014  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:18:16.015  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:18:16.016  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1ms. Found 0 repository interfaces.
2019-03-31 15:18:16.065  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:18:16.065  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:18:16.099  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34ms. Found 9 repository interfaces.
2019-03-31 15:18:16.102  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:18:16.102  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:18:16.109  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:18:16.109  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:18:16.109  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:18:16.110  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:18:16.110  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:18:16.110  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:18:16.110  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:18:16.111  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:18:16.111  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:18:16.111  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 0 repository interfaces.
2019-03-31 15:18:16.202  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$43886fc6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:18:16.217  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7d1cb198] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:18:16.220  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$15ca79d2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:18:16.222  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:18:16.223  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@317b5d3b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:18:16.226  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$3a9f1c84] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:18:16.229  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$5ff4349a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:18:16.230  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:18:16.230  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:18:16.335  INFO 19539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:18:16.337  INFO 19539 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:18:16.337  INFO 19539 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:18:16.357  INFO 19539 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-31 15:18:16.357  INFO 19539 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 627 ms
2019-03-31 15:18:16.536  INFO 19539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2019-03-31 15:18:16.560  INFO 19539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2019-03-31 15:18:16.569  INFO 19539 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:18:16.587  INFO 19539 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:18:16.725  INFO 19539 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:18:16.726  INFO 19539 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2fb3b167
2019-03-31 15:18:16.929  INFO 19539 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:18:17.210 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:18:17.211 DEBUG 19539 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:18:17.212 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:18:17.212 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:18:17.253 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:18:17.254 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:18:17.255 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:18:17.255 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:18:17.263 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:18:17.264 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:18:17.264 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:18:17.265 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:18:17.265 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:18:17.273  WARN 19539 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paymentController': Unsatisfied dependency expressed through field 'paymentService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'paymentService' defined in file [/home/yue/Documents/Git/nebula-server-spring/target/classes/com/jz/nebula/service/PaymentService.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.jz.nebula.service.PaymentService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problem: 
	Unhandled exception type ProductStockException

2019-03-31 15:18:17.274  INFO 19539 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:18:17.274  INFO 19539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2019-03-31 15:18:17.290  INFO 19539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2019-03-31 15:18:17.292  INFO 19539 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-03-31 15:18:17.302  INFO 19539 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-03-31 15:18:17.309 ERROR 19539 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paymentController': Unsatisfied dependency expressed through field 'paymentService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'paymentService' defined in file [/home/yue/Documents/Git/nebula-server-spring/target/classes/com/jz/nebula/service/PaymentService.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.jz.nebula.service.PaymentService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problem: 
	Unhandled exception type ProductStockException

	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1378) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:846) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:863) ~[spring-context-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546) ~[spring-context-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]
	at com.jz.nebula.Application.main(Application.java:15) [classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.1.1.RELEASE.jar:2.1.1.RELEASE]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'paymentService' defined in file [/home/yue/Documents/Git/nebula-server-spring/target/classes/com/jz/nebula/service/PaymentService.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.jz.nebula.service.PaymentService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problem: 
	Unhandled exception type ProductStockException

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1270) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:538) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:273) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1237) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1164) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	... 24 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.jz.nebula.service.PaymentService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problem: 
	Unhandled exception type ProductStockException

	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:184) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1262) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	... 35 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problem: 
	Unhandled exception type ProductStockException

	at com.jz.nebula.service.PaymentService.<init>(PaymentService.java:90) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:488) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]
	... 37 common frames omitted

2019-03-31 15:20:37.365  INFO 19539 --- [restartedMain] com.jz.nebula.Application                : Starting Application on yue-desktop with PID 19539 (/home/yue/Documents/Git/nebula-server-spring/target/classes started by yue in /home/yue/Documents/Git/nebula-server-spring)
2019-03-31 15:20:37.365  INFO 19539 --- [restartedMain] com.jz.nebula.Application                : No active profile set, falling back to default profiles: default
2019-03-31 15:20:37.639  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:20:37.640  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:20:37.642  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1ms. Found 0 repository interfaces.
2019-03-31 15:20:37.714  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:20:37.714  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:20:37.760  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 9 repository interfaces.
2019-03-31 15:20:37.766  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-03-31 15:20:37.766  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-03-31 15:20:37.774  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartItemRepository.
2019-03-31 15:20:37.774  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.CartRepository.
2019-03-31 15:20:37.775  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderItemRepository.
2019-03-31 15:20:37.775  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.OrderRepository.
2019-03-31 15:20:37.775  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductCategoryRepository.
2019-03-31 15:20:37.776  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ProductRepository.
2019-03-31 15:20:37.779  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.ShipperRepository.
2019-03-31 15:20:37.780  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.UserRepository.
2019-03-31 15:20:37.780  INFO 19539 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.jz.nebula.dao.VendorRepository.
2019-03-31 15:20:37.780  INFO 19539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 0 repository interfaces.
2019-03-31 15:20:37.918  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$43886fc6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:20:37.940  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7d1cb198] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:20:37.945  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$15ca79d2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:20:37.949  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:20:37.949  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7b96c030' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:20:37.955  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$3a9f1c84] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:20:37.962  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration$$EnhancerBySpringCGLIB$$5ff4349a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:20:37.962  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:20:37.962  INFO 19539 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-03-31 15:20:38.143  INFO 19539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2019-03-31 15:20:38.144  INFO 19539 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-31 15:20:38.145  INFO 19539 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-03-31 15:20:38.164  INFO 19539 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2019-03-31 15:20:38.164  INFO 19539 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 795 ms
2019-03-31 15:20:38.395  INFO 19539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2019-03-31 15:20:38.436  INFO 19539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2019-03-31 15:20:38.447  INFO 19539 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-03-31 15:20:38.461  INFO 19539 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-03-31 15:20:38.608  INFO 19539 --- [restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-03-31 15:20:38.608  INFO 19539 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2fb3b167
2019-03-31 15:20:38.797  INFO 19539 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:20:39.066 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getCart(long)]] with attributes [ROLE_ADMIN]
2019-03-31 15:20:39.066 DEBUG 19539 --- [restartedMain] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:20:39.067 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public com.jz.nebula.entity.Cart com.jz.nebula.controller.CartController.getMyCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.068 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartController; public java.lang.Object com.jz.nebula.controller.CartController.finalizeCart()]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.109 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.110 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.update(long,com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.111 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.CartItemController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.111 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.CartItemController; public com.jz.nebula.entity.CartItem com.jz.nebula.controller.CartItemController.create(com.jz.nebula.entity.CartItem) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.119 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.119 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.OrderController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.120 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.update(long,com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.120 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.OrderController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.120 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.OrderController; public com.jz.nebula.entity.Order com.jz.nebula.controller.OrderController.create(com.jz.nebula.entity.Order)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.140 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.finalise() throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.140 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.PaymentController; public java.lang.Object com.jz.nebula.controller.PaymentController.create(com.jz.nebula.entity.Payment) throws java.lang.Exception]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.158 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.159 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductCategoryController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.159 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.update(long,com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.159 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductCategoryController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.160 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductCategoryController; public com.jz.nebula.entity.ProductCategory com.jz.nebula.controller.ProductCategoryController.create(com.jz.nebula.entity.ProductCategory)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.167 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.168 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ProductController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.169 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.update(long,com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.169 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ProductController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.169 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ProductController; public com.jz.nebula.entity.Product com.jz.nebula.controller.ProductController.create(com.jz.nebula.entity.Product)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.190 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.findById(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.191 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.hateoas.PagedResources com.jz.nebula.controller.ShipperController.all(org.springframework.data.domain.Pageable,org.springframework.web.util.UriComponentsBuilder,javax.servlet.http.HttpServletResponse,org.springframework.data.web.PagedResourcesAssembler)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.191 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.update(long,com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.191 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public org.springframework.http.ResponseEntity com.jz.nebula.controller.ShipperController.delete(long)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.192 DEBUG 19539 --- [restartedMain] m.DelegatingMethodSecurityMetadataSource : Caching method [CacheKey[com.jz.nebula.controller.ShipperController; public com.jz.nebula.entity.Shipper com.jz.nebula.controller.ShipperController.create(com.jz.nebula.entity.Shipper)]] with attributes [ROLE_USER, ROLE_VENDOR, ROLE_ADMIN]
2019-03-31 15:20:39.230 DEBUG 19539 --- [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {webSecurityConfig=com.jz.nebula.WebSecurityConfig$$EnhancerBySpringCGLIB$$12e749f5@6fed3292}
2019-03-31 15:20:39.245 DEBUG 19539 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/auth/signin']
2019-03-31 15:20:39.245 DEBUG 19539 --- [restartedMain] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2019-03-31 15:20:39.246 DEBUG 19539 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:20:39.246 DEBUG 19539 --- [restartedMain] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-03-31 15:20:39.248  INFO 19539 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23d4d015, org.springframework.security.web.context.SecurityContextPersistenceFilter@63e65460, org.springframework.security.web.header.HeaderWriterFilter@3a5bdcda, org.springframework.security.web.authentication.logout.LogoutFilter@1cc64df5, com.jz.nebula.jwt.JwtTokenFilter@166e0fbe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@446167d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2038de83, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41f52b8f, org.springframework.security.web.session.SessionManagementFilter@63ebe534, org.springframework.security.web.access.ExceptionTranslationFilter@55de5fca, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15184a86]
2019-03-31 15:20:39.406  INFO 19539 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-31 15:20:39.577  INFO 19539 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-31 15:20:39.610  INFO 19539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2019-03-31 15:20:39.614  INFO 19539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#16ec50a9:0/SimpleConnection@5ef30ecc [delegate=amqp://guest@127.0.0.1:5672/, localPort= 48354]
2019-03-31 15:20:39.637  INFO 19539 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-03-31 15:20:39.653  INFO 19539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2019-03-31 15:20:39.654  INFO 19539 --- [restartedMain] com.jz.nebula.Application                : Started Application in 2.334 seconds (JVM running for 265.289)
2019-03-31 15:20:39.658  INFO 19539 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-03-31 15:20:42.059  INFO 19539 --- [Thread-20] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:20:42.622  INFO 19539 --- [Thread-20] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:20:42.624  INFO 19539 --- [Thread-20] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:20:42.627  INFO 19539 --- [Thread-20] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:20:42.629  INFO 19539 --- [Thread-20] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:20:42.629  INFO 19539 --- [Thread-20] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:20:42.631  INFO 19539 --- [Thread-20] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2019-03-31 15:20:42.632  INFO 19539 --- [Thread-20] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2019-03-31 15:20:42.635  INFO 19539 --- [Thread-20] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:20:42.636  INFO 19539 --- [Thread-20] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:20:42.636  INFO 19539 --- [Thread-20] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:20:42.636  INFO 19539 --- [Thread-20] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already
2019-03-31 15:20:42.637  INFO 19539 --- [Thread-20] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-03-31 15:20:42.647  INFO 19539 --- [Thread-20] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-03-31 15:20:42.648  INFO 19539 --- [Thread-20] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2019-03-31 15:20:42.664  INFO 19539 --- [Thread-20] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
