<!--
  ~ Copyright (c) 2019. iEuclid Technology
  ~ Licensed to the Apache Software Foundation (ASF) under one
  ~ or more contributor license agreements.  See the NOTICE file
  ~ distributed with this work for additional information
  ~ regarding copyright ownership.  The ASF licenses this file
  ~ to you under the Apache License, Version 2.0 (the
  ~ "License"); you may not use this file except in compliance
  ~ with the License.  You may obtain a copy of the License at
  ~
  ~   http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing,
  ~ software distributed under the License is distributed on an
  ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~ KIND, either express or implied.  See the License for the
  ~ specific language governing permissions and limitations
  ~ under the License.
  -->

<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:th="http://www.w3.org/1999/xhtml"
>
<body style="font-family: -apple-system, BlinkMacSystemFont, avenir next, avenir, helvetica, helvetica neue, ubuntu, roboto, noto, segoe ui, arial, sans-serif;margin: 0px;">
<style>
    @page {
        margin: 0px;
        size: A4;
    }

    .table td,
    .table th {
        text-align: left;
        border-bottom-color: #efefef;
        border-bottom-width: 1px;
        border-bottom-style: solid;
        padding-top: 10px;
        padding-bottom: 10px;
    }

    .table th {
        font-size: 15px;
        color: #6d6d6d;
    }

    #right,
    .table td + td,
    .table th + th {
        text-align: right;
    }

    .table tr {
        height: 50px;
    }

    .client div {
        margin-bottom: 5px;
        text-align: left;
    }
</style>

<!--<div th:if="*{order != null}">-->
<!--                <span th:text="*{order.user.username}" style="color: red;">-->
<!--                </span>-->
<!--</div>-->
<!--<th:block th:each="orderItem, iterationStatus : *{order.orderItems}">-->
<!--    <span th:text="*{orderItem.unitPrice}"></span>-->
<!--    <span th:text="*{orderItem.quantity}"></span>-->

<!--</th:block>-->

<div style="color: white;text-align: left;font-size: 52px;background-color: #5851d8;padding: 50px;display: inline-flex;width: 100%;height: 60px;">
    <div style="flex: 1;">
        iEuclid
    </div>
    <div th:if="*{order != null}"
         style="position: absolute;right: 0;font-size: 20px;margin-top: 45px;margin-right: 50px;text-align: right;">
        <div style="text-align: right;">
            Invoice
        </div>
        <div style=" text-align: right;font-size: 12px;margin-top: 5px;" th:text="*{invoiceId}">

        </div>
        <div style=" text-align: right;font-size: 12px;margin-top: 5px;" th:text="*{invoiceDate}">

        </div>
    </div>
</div>

<div style="margin: 80px 50px 30px 50px;" th:if="*{order != null}">
    <div style="margin-bottom: 80px;width: 100%;height: 150px;display: inline-flex;">
        <div class="client" style="font-size: 12px;flex: 1;display: inline-block;">
            <div style="font-size: 18px;font-weight: 600;">
                iEuclid
            </div>
            <div>
                Coventry St
            </div>
            <div>
                Address1
            </div>
            <div>
                Address2
            </div>
            <div>
                3006
            </div>
            <div>
                Australia
            </div>
        </div>
        <div class="client" style="font-size: 12px;display: inline-block;float: right;">
            <div style="font-size: 15px;">
                To,
            </div>
            <div style="font-size: 18px;font-weight: 600;" th:text="*{order.user.username}">
            </div>
            <div th:text="*{order.user.address1}">
                Address1
            </div>
            <div th:text="*{order.user.address2}">
                Address2
            </div>
            <div>
                3006
            </div>
            <div>
                Australia
            </div>
        </div>
    </div>
    <table style="width: 100%;font-size: 12px;" class="table" cellspacing="0">
        <thead>
        <tr>
            <th>
                Item
            </th>
            <th>
                Quantity
            </th>
            <th>
                Price
            </th>
            <th>
                Amount
            </th>
        </tr>
        </thead>
        <tbody style="border-bottom: 1px solid #efefef;">
        <th:block th:if="${entityType == 'ORD'}">
            <th:block th:each="orderItem, iterationStatus : *{order.orderItems}">
                <tr>
                    <td th:text="*{orderItem.product.name}"></td>
                    <td th:text="*{orderItem.quantity}"></td>
                    <td th:text="*{orderItem.unitPrice}"></td>
                    <td th:text="*{orderItem.unitPrice * orderItem.quantity}"></td>
                </tr>
            </th:block>
        </th:block>
        <th:block th:if="${entityType == 'CLZ'}">
            <th:block th:each="clazzOrderItem, iterationStatus : *{order.clazzOrderItems}">
                <tr>
                    <td th:text="*{clazzOrderItem.clazz.name}"></td>
                    <td th:text="1"></td>
                    <td th:text="*{clazzOrderItem.price}"></td>
                    <td th:text="*{clazzOrderItem.price}"></td>
                </tr>
            </th:block>
        </th:block>
        </tbody>
    </table>


    <div style="margin-bottom: 80px;width: 100%;height: 150px;display: inline-flex;">
        <!--                <div class="client" style="font-size: 12px;flex: 1;display: inline-block;">-->
        <!--                    <div style="font-size: 15px;">-->
        <!--                        iEuclid-->
        <!--                    </div>-->
        <!--                    <div style="font-size: 18px;font-weight: 600;">-->
        <!--                        Coventry St-->
        <!--                    </div>-->
        <!--                    <div>-->
        <!--                        Address1-->
        <!--                    </div>-->
        <!--                    <div>-->
        <!--                        Address2-->
        <!--                    </div>-->
        <!--                    <div>-->
        <!--                        3006-->
        <!--                    </div>-->
        <!--                    <div>-->
        <!--                        Australia-->
        <!--                    </div>-->
        <!--                </div>-->
        <div class="client" style="font-size: 12px;display: inline-block;flex: 1;float: right;">
            <table class="total" style="font-size: 15px;border: 1px solid #6d6d6d;">
                <tr>
                    <td style="color: #6d6d6d;padding-right: 50px;">
                        Subtotal
                    </td>
                    <td style="text-align: right;font-weight: 600;" th:text="*{amount.subtotal}">
                    </td>
                </tr>
                <tr style="margin-bottom: 50px;">
                    <td style="color: #6d6d6d;padding-right: 50px;">
                        Tax(10%)
                    </td>
                    <td style="text-align: right;font-weight: 600;" th:text="*{amount.tax}">
                    </td>
                </tr>
                <tr>
                    <td style="color: #6d6d6d;padding-right: 50px;">
                        Total
                    </td>
                    <td style="text-align: right;color: #5851d8;font-weight: 600;" th:text="*{amount.total}">
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>

<div style="margin: 80px 50px 30px 50px;" th:if="*{order == null}">
    <div style="text-align: left;font-size: 12px;">
        Sorry, we can not find the invoice for you. Please contact <a href="mailto:ashzhouyue@gmail.com">ashzhouyue@gmail.com</a>.
    </div>
</div>
</body>
</html>
